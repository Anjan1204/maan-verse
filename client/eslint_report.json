[{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\App.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\AITutor.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useAuth' is defined but never used. Allowed unused vars must match /^[A-Z_]|motion|React/u.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":17,"suggestions":[{"messageId":"removeVar","data":{"varName":"useAuth"},"fix":{"range":[260,303],"text":""},"desc":"Remove unused variable 'useAuth'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useRef, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { MessageSquare, X, Send, Sparkles, Bot, User, Loader2, Minimize2, Maximize2 } from 'lucide-react';\r\nimport api from '../utils/api';\r\nimport { useAuth } from '../hooks/useAuth';\r\n\r\nconst AiTutor = () => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [isExpanded, setIsExpanded] = useState(false); // For full height mode\r\n    const [messages, setMessages] = useState([\r\n        { id: 1, text: \"Hi there! I'm your AI Tutor. How can I help you with your studies today?\", sender: 'ai', timestamp: new Date() }\r\n    ]);\r\n    const [input, setInput] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const messagesEndRef = useRef(null);\r\n    // const { user } = useAuth(); // Removed unused variable 'user'\r\n\r\n    const scrollToBottom = React.useCallback(() => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages, isOpen, scrollToBottom]);\r\n\r\n    const handleSend = async (e) => {\r\n        e.preventDefault();\r\n        if (!input.trim()) return;\r\n\r\n        const userMessage = {\r\n            id: Date.now(),\r\n            text: input,\r\n            sender: 'user',\r\n            timestamp: new Date()\r\n        };\r\n\r\n        setMessages(prev => [...prev, userMessage]);\r\n        setInput('');\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const history = messages.map(msg => ({\r\n                sender: msg.sender,\r\n                text: msg.text\r\n            }));\r\n\r\n            const { data } = await api.post('/ai/chat', { message: userMessage.text, history });\r\n\r\n            const aiMessage = {\r\n                id: Date.now() + 1,\r\n                text: data.reply,\r\n                sender: 'ai',\r\n                timestamp: new Date()\r\n            };\r\n\r\n            setMessages(prev => [...prev, aiMessage]);\r\n        } catch (error) {\r\n            console.error(error);\r\n            const errorMessage = {\r\n                id: Date.now() + 1,\r\n                text: \"I'm having trouble connecting right now. Please try again later.\",\r\n                sender: 'ai',\r\n                isError: true,\r\n                timestamp: new Date()\r\n            };\r\n            setMessages(prev => [...prev, errorMessage]);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed bottom-6 right-6 z-50 flex flex-col items-end\">\r\n            <AnimatePresence>\r\n                {isOpen && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 20, scale: 0.95 }}\r\n                        animate={{\r\n                            opacity: 1,\r\n                            y: 0,\r\n                            scale: 1,\r\n                            height: isExpanded ? '80vh' : '500px',\r\n                            width: isExpanded ? '600px' : '380px'\r\n                        }}\r\n                        exit={{ opacity: 0, y: 20, scale: 0.95 }}\r\n                        transition={{ duration: 0.2 }}\r\n                        className=\"bg-[#0f172a]/90 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl flex flex-col overflow-hidden mb-4 origin-bottom-right\"\r\n                    >\r\n                        {/* Header */}\r\n                        <div className=\"p-4 bg-gradient-to-r from-violet-600 to-indigo-600 flex items-center justify-between shrink-0\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <div className=\"p-2 bg-white/20 rounded-lg backdrop-blur-md\">\r\n                                    <Bot className=\"text-white w-5 h-5\" />\r\n                                </div>\r\n                                <div>\r\n                                    <h3 className=\"text-white font-bold text-sm\">AI Tutor</h3>\r\n                                    <p className=\"text-indigo-200 text-[10px] font-medium flex items-center gap-1.5\">\r\n                                        <span className=\"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse\" />\r\n                                        Online\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-1\">\r\n                                <button\r\n                                    onClick={() => setIsExpanded(!isExpanded)}\r\n                                    className=\"p-1.5 hover:bg-white/20 rounded-lg text-white/80 transition-colors\"\r\n                                >\r\n                                    {isExpanded ? <Minimize2 size={16} /> : <Maximize2 size={16} />}\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setIsOpen(false)}\r\n                                    className=\"p-1.5 hover:bg-white/20 rounded-lg text-white/80 transition-colors\"\r\n                                >\r\n                                    <X size={16} />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Chat Area */}\r\n                        <div className=\"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar bg-slate-950/50\">\r\n                            {messages.map((msg) => (\r\n                                <motion.div\r\n                                    initial={{ opacity: 0, y: 10 }}\r\n                                    animate={{ opacity: 1, y: 0 }}\r\n                                    key={msg.id}\r\n                                    className={`flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}\r\n                                >\r\n                                    <div className={`max-w-[85%] rounded-2xl p-3.5 text-sm leading-relaxed ${msg.sender === 'user'\r\n                                        ? 'bg-indigo-600 text-white rounded-br-none'\r\n                                        : 'bg-slate-800 text-slate-200 rounded-bl-none border border-white/5'\r\n                                        } ${msg.isError ? 'bg-red-500/10 border-red-500/50 text-red-400' : ''}`}>\r\n                                        <p className=\"whitespace-pre-wrap\">{msg.text}</p>\r\n                                        <p className={`text-[9px] mt-1.5 opacity-50 ${msg.sender === 'user' ? 'text-right' : 'text-left'}`}>\r\n                                            {msg.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                                        </p>\r\n                                    </div>\r\n                                </motion.div>\r\n                            ))}\r\n                            {isLoading && (\r\n                                <motion.div\r\n                                    initial={{ opacity: 0 }}\r\n                                    animate={{ opacity: 1 }}\r\n                                    className=\"flex justify-start\"\r\n                                >\r\n                                    <div className=\"bg-slate-800 rounded-2xl rounded-bl-none p-4 flex gap-1 items-center border border-white/5\">\r\n                                        <span className=\"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce [animation-delay:-0.3s]\" />\r\n                                        <span className=\"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce [animation-delay:-0.15s]\" />\r\n                                        <span className=\"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce\" />\r\n                                    </div>\r\n                                </motion.div>\r\n                            )}\r\n                            <div ref={messagesEndRef} />\r\n                        </div>\r\n\r\n                        {/* Input Area */}\r\n                        <form onSubmit={handleSend} className=\"p-3 bg-slate-900 border-t border-white/5 shrink-0\">\r\n                            <div className=\"relative flex items-center\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={input}\r\n                                    onChange={(e) => setInput(e.target.value)}\r\n                                    placeholder=\"Ask me anything...\"\r\n                                    className=\"w-full bg-slate-950 text-slate-200 text-sm rounded-xl pl-4 pr-12 py-3.5 focus:outline-none focus:ring-1 focus:ring-indigo-500/50 border border-white/5 placeholder:text-slate-600\"\r\n                                />\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    disabled={!input.trim() || isLoading}\r\n                                    className=\"absolute right-2 p-2 bg-indigo-600 hover:bg-indigo-500 rounded-lg text-white transition-colors disabled:opacity-50 disabled:hover:bg-indigo-600\"\r\n                                >\r\n                                    {isLoading ? <Loader2 size={16} className=\"animate-spin\" /> : <Send size={16} />}\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"text-center mt-2\">\r\n                                <p className=\"text-[10px] text-slate-500 flex items-center justify-center gap-1.5\">\r\n                                    <Sparkles size={10} className=\"text-amber-400\" />\r\n                                    Powered by Gemini AI\r\n                                </p>\r\n                            </div>\r\n                        </form>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n\r\n            {/* Toggle Button */}\r\n            <motion.button\r\n                whileHover={{ scale: 1.05 }}\r\n                whileTap={{ scale: 0.95 }}\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className={`p-4 rounded-full shadow-2xl transition-all duration-300 relative group ${isOpen\r\n                    ? 'bg-slate-800 text-white hover:bg-slate-700'\r\n                    : 'bg-gradient-to-r from-violet-600 to-indigo-600 text-white hover:shadow-indigo-500/25'\r\n                    }`}\r\n            >\r\n                {isOpen ? <X size={24} /> : <Bot size={24} />}\r\n\r\n                {/* Tooltip */}\r\n                {!isOpen && (\r\n                    <span className=\"absolute right-full mr-3 top-1/2 -translate-y-1/2 px-3 py-1.5 bg-slate-900 text-white text-xs font-medium rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap border border-white/10 pointer-events-none\">\r\n                        Chat with AI Tutor\r\n                    </span>\r\n                )}\r\n\r\n                {/* Notification Dot */}\r\n                {!isOpen && (\r\n                    <span className=\"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full border-2 border-[#020617]\" />\r\n                )}\r\n            </motion.button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AiTutor;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\AdminApprovalModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\ErrorBoundary.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\FacultyInquiryModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\Footer.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'SocialIcon' is defined but never used. Allowed unused args must match /^_/u.","line":42,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":42,"endColumn":40,"suggestions":[{"messageId":"removeVar","data":{"varName":"SocialIcon"},"fix":{"range":[1548,1565],"text":""},"desc":"Remove unused variable 'SocialIcon'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  Github as GithubMahek,\r\n  Github as GithubAnjan,\r\n  Instagram,\r\n  Linkedin,\r\n  Mail,\r\n  Phone,\r\n  MapPin,\r\n  Heart\r\n} from 'lucide-react';\r\nimport Logo from './Logo';\r\nimport FacultyInquiryModal from './FacultyInquiryModal';\r\n\r\nconst Footer = () => {\r\n  const [isInquiryModalOpen, setInquiryModalOpen] = React.useState(false);\r\n\r\n  return (\r\n    <footer className=\"bg-surface border-t border-gray-800 text-gray-300 pt-16 pb-8\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12\">\r\n\r\n          {/* Brand Column */}\r\n          <div>\r\n            <div className=\"mb-6\">\r\n              <Logo />\r\n            </div>\r\n            <p className=\"text-gray-400 text-sm leading-relaxed mb-6\">\r\n              MAAN-verse is your ultimate learning universe, designed to empower\r\n              students and faculty with cutting-edge tools and premium courses.\r\n              Unlock your potential today.\r\n            </p>\r\n\r\n            <div className=\"flex space-x-4\">\r\n              {[\r\n                { Icon: GithubMahek, href: 'https://github.com/mahekshah429' },\r\n                { Icon: GithubAnjan, href: 'https://github.com/_anjan_1211' },\r\n                { Icon: Instagram, href: 'https://www.instagram.com/_anjan_1211?igsh=MXRtZmt2c2c1dTZqbQ==' },\r\n                { Icon: Linkedin, href: 'https://www.linkedin.com/in/mahek-shah-aab221317?' }\r\n              ].map(({ Icon: SocialIcon, href }, index) => (\r\n                <a\r\n                  key={index}\r\n                  href={href}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"w-10 h-10 rounded-full bg-dark border border-gray-700 flex items-center justify-center text-gray-400 hover:text-white hover:border-primary hover:bg-primary/10 transition-all duration-300\"\r\n                >\r\n                  <SocialIcon size={18} />\r\n                </a>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Quick Links */}\r\n          <div>\r\n            <h3 className=\"text-white font-bold text-lg mb-6\">Quick Links</h3>\r\n            <ul className=\"space-y-4\">\r\n              {[\r\n                { name: 'Home', path: '/' },\r\n                { name: 'Courses', path: '/courses' },\r\n                { name: 'About Us', path: '/about' },\r\n                { name: 'Contact', path: '/contact' },\r\n              ].map((item) => (\r\n                <li key={item.name}>\r\n                  <Link\r\n                    to={item.path}\r\n                    className=\"text-gray-400 hover:text-secondary transition-colors flex items-center gap-2 group\"\r\n                  >\r\n                    <span className=\"w-1.5 h-1.5 rounded-full bg-gray-600 group-hover:bg-secondary transition-colors\"></span>\r\n                    {item.name}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n              <li>\r\n                <button\r\n                  onClick={() => setInquiryModalOpen(true)}\r\n                  className=\"text-gray-400 hover:text-secondary transition-colors flex items-center gap-2 group\"\r\n                >\r\n                  <span className=\"w-1.5 h-1.5 rounded-full bg-gray-600 group-hover:bg-secondary transition-colors\"></span>\r\n                  Become a Faculty\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Resources */}\r\n          <div>\r\n            <h3 className=\"text-white font-bold text-lg mb-6\">Resources</h3>\r\n            <ul className=\"space-y-4\">\r\n              {[\r\n                { name: 'Documentation', path: '/help' },\r\n                { name: 'Help Center', path: '/help' },\r\n                { name: 'Community', path: 'https://discord.gg/maanverse' },\r\n                { name: 'Terms of Service', path: '/terms' },\r\n                { name: 'Privacy Policy', path: '/privacy' }\r\n              ].map((item) => (\r\n                <li key={item.name}>\r\n                  {item.path.startsWith('http') ? (\r\n                    <a\r\n                      href={item.path}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"text-gray-400 hover:text-secondary transition-colors flex items-center gap-2 group\"\r\n                    >\r\n                      <span className=\"w-1.5 h-1.5 rounded-full bg-gray-600 group-hover:bg-secondary transition-colors\"></span>\r\n                      {item.name}\r\n                    </a>\r\n                  ) : (\r\n                    <Link\r\n                      to={item.path}\r\n                      className=\"text-gray-400 hover:text-secondary transition-colors flex items-center gap-2 group\"\r\n                    >\r\n                      <span className=\"w-1.5 h-1.5 rounded-full bg-gray-600 group-hover:bg-secondary transition-colors\"></span>\r\n                      {item.name}\r\n                    </Link>\r\n                  )}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Contact Info */}\r\n          <div>\r\n            <h3 className=\"text-white font-bold text-lg mb-6\">Contact Us</h3>\r\n            <ul className=\"space-y-4\">\r\n              <li className=\"flex items-start gap-4\">\r\n                <div className=\"mt-1 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary\">\r\n                  <MapPin size={17} />\r\n                </div>\r\n                <span className=\"text-gray-400 text-sm italic\">\r\n                  Surat / Patna, India\r\n                </span>\r\n              </li>\r\n\r\n              <li className=\"flex items-center gap-4\">\r\n                <div className=\"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary\">\r\n                  <Phone size={16} />\r\n                </div>\r\n                <a\r\n                  href=\"tel:+917632895266\"\r\n                  className=\"text-gray-400 text-sm hover:text-primary transition-colors\"\r\n                >\r\n                  +91 7632895266\r\n                </a>\r\n              </li>\r\n\r\n              <li className=\"flex items-center gap-4\">\r\n                <div className=\"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary\">\r\n                  <Mail size={16} />\r\n                </div>\r\n                <a\r\n                  href=\"mailto:maanverse85@gmail.com\"\r\n                  className=\"text-gray-400 text-sm hover:text-primary transition-colors\"\r\n                >\r\n                  maanverse85@gmail.com\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bottom Bar */}\r\n        <div className=\"border-t border-gray-800 pt-8 mt-8 flex flex-col md:flex-row justify-between items-center text-sm text-gray-500\">\r\n          <p>&copy; {new Date().getFullYear()} MAAN-verse LMS. All rights reserved.</p>\r\n          <p className=\"flex items-center gap-1 mt-4 md:mt-0\">\r\n            Made with <Heart size={14} className=\"text-pink-500 fill-pink-500 animate-pulse\" /> for Smart Learning\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <FacultyInquiryModal\r\n        isOpen={isInquiryModalOpen}\r\n        onClose={() => setInquiryModalOpen(false)}\r\n      />\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\Logo.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\Navbar.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\NotificationDropdown.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\ProtectedRoute.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\course\\AssignmentSection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\course\\ForumSection.jsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  24 |\n  25 |     useEffect(() => {\n> 26 |         fetchThreads();\n     |         ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  27 |     }, [fetchThreads]);\n  28 |\n  29 |     const handleCreateThread = async (e) => {","line":26,"column":9,"nodeType":null,"endLine":26,"endColumn":21},{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":36,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":36,"endColumn":23}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { MessageSquare, Send, ThumbsUp, User as UserIcon } from 'lucide-react';\r\nimport api from '../../utils/api';\r\nimport { toast } from 'react-toastify';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nconst ForumSection = ({ courseId }) => {\r\n    const [threads, setThreads] = useState([]);\r\n    // const [loading, setLoading] = useState(true); // Removed unused variable 'loading'\r\n    const [newThread, setNewThread] = useState({ title: '', content: '' });\r\n    const [expandedThread, setExpandedThread] = useState(null);\r\n    const [comments, setComments] = useState({});\r\n    const [newComment, setNewComment] = useState('');\r\n\r\n    const fetchThreads = React.useCallback(async () => {\r\n        try {\r\n            const { data } = await api.get(`/forum/course/${courseId}`);\r\n            setThreads(data);\r\n        } catch (error) {\r\n            console.error(error);\r\n            toast.error('Failed to load forum threads');\r\n        }\r\n    }, [courseId]);\r\n\r\n    useEffect(() => {\r\n        fetchThreads();\r\n    }, [fetchThreads]);\r\n\r\n    const handleCreateThread = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await api.post('/forum/threads', { ...newThread, courseId });\r\n            setNewThread({ title: '', content: '' });\r\n            fetchThreads();\r\n            toast.success('Discussion started!');\r\n        } catch (error) {\r\n            toast.error('Failed to create thread');\r\n        }\r\n    };\r\n\r\n    const fetchComments = React.useCallback(async (threadId) => {\r\n        try {\r\n            const { data } = await api.get(`/forum/threads/${threadId}/comments`);\r\n            setComments(prev => ({ ...prev, [threadId]: data }));\r\n        } catch (error) {\r\n            console.error(error);\r\n            toast.error('Failed to load comments');\r\n        }\r\n    }, []);\r\n\r\n    const handleAddComment = async (threadId) => {\r\n        if (!newComment.trim()) return;\r\n        try {\r\n            await api.post(`/forum/threads/${threadId}/comments`, { content: newComment });\r\n            setNewComment('');\r\n            fetchComments(threadId);\r\n        } catch (error) {\r\n            console.error(error);\r\n            toast.error('Failed to add comment');\r\n        }\r\n    };\r\n\r\n    const handleLike = async (commentId, threadId) => {\r\n        try {\r\n            await api.put(`/forum/comments/${commentId}/like`);\r\n            fetchComments(threadId);\r\n        } catch (error) {\r\n            console.error(error);\r\n            toast.error('Failed to like comment');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8 max-w-4xl mx-auto pb-20\">\r\n            <div className=\"glass p-8 rounded-[2.5rem] border border-white/5 space-y-6\">\r\n                <h3 className=\"text-xl font-black flex items-center gap-3\">\r\n                    <MessageSquare className=\"text-primary\" /> Start a Discussion\r\n                </h3>\r\n                <form onSubmit={handleCreateThread} className=\"space-y-4\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Thread Title\"\r\n                        className=\"w-full p-4 bg-white/5 border border-white/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary/20 text-white font-bold\"\r\n                        value={newThread.title}\r\n                        onChange={(e) => setNewThread({ ...newThread, title: e.target.value })}\r\n                        required\r\n                    />\r\n                    <textarea\r\n                        placeholder=\"What's on your mind? Share your thoughts or questions about the course...\"\r\n                        className=\"w-full p-4 bg-white/5 border border-white/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary/20 text-white min-h-[120px]\"\r\n                        value={newThread.content}\r\n                        onChange={(e) => setNewThread({ ...newThread, content: e.target.value })}\r\n                        required\r\n                    />\r\n                    <button type=\"submit\" className=\"px-8 py-3 bg-primary text-white rounded-xl font-black hover:scale-105 transition-all flex items-center gap-2\">\r\n                        Post Thread <Send size={16} />\r\n                    </button>\r\n                </form>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n                {threads.map(thread => (\r\n                    <div key={thread._id} className=\"glass rounded-[2rem] border border-white/5 overflow-hidden transition-all hover:border-white/10\">\r\n                        <div\r\n                            className=\"p-6 cursor-pointer\"\r\n                            onClick={() => {\r\n                                if (expandedThread === thread._id) {\r\n                                    setExpandedThread(null);\r\n                                } else {\r\n                                    setExpandedThread(thread._id);\r\n                                    fetchComments(thread._id);\r\n                                }\r\n                            }}\r\n                        >\r\n                            <div className=\"flex justify-between items-start mb-4\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-gray-400\">\r\n                                        <UserIcon size={20} />\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-sm font-bold text-white\">{thread.author.name}</p>\r\n                                        <p className=\"text-[10px] text-gray-500 font-black uppercase tracking-widest\">{new Date(thread.createdAt).toLocaleDateString()}</p>\r\n                                    </div>\r\n                                </div>\r\n                                {thread.isAnnouncement && <span className=\"px-3 py-1 bg-amber-500/10 text-amber-500 border border-amber-500/20 rounded-full text-[9px] font-black uppercase tracking-widest\">Announcement</span>}\r\n                            </div>\r\n                            <h4 className=\"text-lg font-black text-white mb-2\">{thread.title}</h4>\r\n                            <p className=\"text-gray-400 text-sm line-clamp-2\">{thread.content}</p>\r\n                        </div>\r\n\r\n                        <AnimatePresence>\r\n                            {expandedThread === thread._id && (\r\n                                <motion.div\r\n                                    initial={{ height: 0, opacity: 0 }}\r\n                                    animate={{ height: 'auto', opacity: 1 }}\r\n                                    exit={{ height: 0, opacity: 0 }}\r\n                                    className=\"border-t border-white/5 p-6 bg-white/[0.01]\"\r\n                                >\r\n                                    <div className=\"space-y-6\">\r\n                                        <div className=\"space-y-4\">\r\n                                            {comments[thread._id]?.map(comment => (\r\n                                                <div key={comment._id} className=\"flex gap-4\">\r\n                                                    <div className=\"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-gray-500 flex-shrink-0\">\r\n                                                        <UserIcon size={16} />\r\n                                                    </div>\r\n                                                    <div className=\"flex-1 space-y-2\">\r\n                                                        <div className=\"flex justify-between items-center text-[10px] font-black uppercase tracking-widest text-gray-500\">\r\n                                                            <span>{comment.author.name}</span>\r\n                                                            <span>{new Date(comment.createdAt).toLocaleTimeString()}</span>\r\n                                                        </div>\r\n                                                        <p className=\"text-sm text-gray-300 bg-white/5 p-4 rounded-2xl rounded-tl-none border border-white/5\">{comment.content}</p>\r\n                                                        <button\r\n                                                            onClick={() => handleLike(comment._id, thread._id)}\r\n                                                            className={`flex items-center gap-2 text-[10px] font-black uppercase tracking-widest transition-colors ${comment.likes.includes(window.localStorage.getItem('userId')) ? 'text-primary' : 'text-gray-600 hover:text-white'}`}\r\n                                                        >\r\n                                                            <ThumbsUp size={12} /> {comment.likes.length} Likes\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                        <div className=\"flex gap-3\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                placeholder=\"Add a comment...\"\r\n                                                className=\"flex-1 bg-white/5 border border-white/5 rounded-xl px-4 py-2 text-sm focus:outline-none focus:border-primary/30\"\r\n                                                value={newComment}\r\n                                                onChange={(e) => setNewComment(e.target.value)}\r\n                                                onKeyPress={(e) => e.key === 'Enter' && handleAddComment(thread._id)}\r\n                                            />\r\n                                            <button\r\n                                                onClick={() => handleAddComment(thread._id)}\r\n                                                className=\"p-2 bg-primary text-white rounded-xl hover:bg-primary/80 transition-all\"\r\n                                            >\r\n                                                <Send size={18} />\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </motion.div>\r\n                            )}\r\n                        </AnimatePresence>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ForumSection;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\course\\ResourceSection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\home\\CTASection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\home\\CategoriesSection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\home\\CoursePreviewSection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\home\\FeaturesSection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\home\\HeroSection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\home\\TestimonialsSection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\components\\home\\TimelineSection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\context\\AuthContext.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]|motion|React/u.","line":1,"column":42,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":52,"suggestions":[{"messageId":"removeVar","data":{"varName":"useContext"},"fix":{"range":[39,51],"text":""},"desc":"Remove unused variable 'useContext'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useState, useContext } from 'react';\r\nimport api from '../utils/api';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [user, setUser] = useState(() => {\r\n        const userInfo = localStorage.getItem('userInfo');\r\n        return userInfo ? JSON.parse(userInfo) : null;\r\n    });\r\n    // const [loading, setLoading] = useState(false); // Removed unused variable 'loading'\r\n\r\n\r\n    // Synchronize user state with localStorage whenever it changes\r\n    const syncUser = (userData) => {\r\n        if (userData) {\r\n            localStorage.setItem('userInfo', JSON.stringify(userData));\r\n        } else {\r\n            localStorage.removeItem('userInfo');\r\n        }\r\n        setUser(userData);\r\n    };\r\n\r\n    const login = async (email, password) => {\r\n        const { data } = await api.post('/auth/login', { email, password });\r\n\r\n        if (!data.requireApproval) {\r\n            syncUser(data);\r\n        }\r\n        return data;\r\n    };\r\n\r\n    const register = async (name, email, password, role) => {\r\n        const { data } = await api.post('/auth/register', { name, email, password, role });\r\n\r\n        if (!data.pendingApproval) {\r\n            syncUser(data);\r\n        }\r\n        return data;\r\n    };\r\n\r\n    const logout = () => {\r\n        syncUser(null);\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, setUser: syncUser, login, register, logout }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport { AuthContext };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\context\\SocketContext.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]|motion|React/u.","line":1,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":42,"suggestions":[{"messageId":"removeVar","data":{"varName":"useContext"},"fix":{"range":[29,41],"text":""},"desc":"Remove unused variable 'useContext'."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  17 |             transports: ['websocket', 'polling']\n  18 |         });\n> 19 |         setSocket(newSocket);\n     |         ^^^^^^^^^ Avoid calling setState() directly within an effect\n  20 |\n  21 |         return () => newSocket.close();\n  22 |     }, []);","line":19,"column":9,"nodeType":null,"endLine":19,"endColumn":18}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useContext, useEffect, useState } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nconst SocketContext = createContext();\r\n\r\nexport { SocketContext };\r\n\r\nexport const SocketProvider = ({ children }) => {\r\n    const [socket, setSocket] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // Use the base URL for socket connection, not the API URL\r\n        const SOCKET_URL = 'http://localhost:5000';\r\n\r\n        const newSocket = io(SOCKET_URL, {\r\n            withCredentials: true,\r\n            transports: ['websocket', 'polling']\r\n        });\r\n        setSocket(newSocket);\r\n\r\n        return () => newSocket.close();\r\n    }, []);\r\n\r\n    return (\r\n        <SocketContext.Provider value={socket}>\r\n            {children}\r\n        </SocketContext.Provider>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\hooks\\useAuth.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\hooks\\useSocket.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\layouts\\AdminLayout.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\layouts\\FacultyLayout.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\layouts\\StudentLayout.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\AboutPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\AnalyticsPortal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\ContactPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\CoursesPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\HelpPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\HomePage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\LeaveApplication.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\LoginPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\Messaging.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\PrivacyPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\PurchasePage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\RegisterPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\TermsPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\admin\\AdminCourses.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\admin\\AdminDashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\admin\\AdminFees.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\admin\\AdminPayroll.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\admin\\AdminProfile.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\admin\\AdminSettings.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useEffect' is defined but never used. Allowed unused vars must match /^[A-Z_]|motion|React/u.","line":1,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":36,"suggestions":[{"messageId":"removeVar","data":{"varName":"useEffect"},"fix":{"range":[24,35],"text":""},"desc":"Remove unused variable 'useEffect'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { Save, RotateCcw, Settings as SettingsIcon, Users, BookOpen, Bell } from 'lucide-react';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\n\r\nconst AdminSettings = () => {\r\n    const defaultSettings = {\r\n        // General Settings\r\n        platformName: 'MAAN-verse',\r\n        supportEmail: 'support@maanverse.com',\r\n        defaultLanguage: 'English',\r\n\r\n        // User Settings\r\n        defaultUserRole: 'student',\r\n        emailVerificationRequired: true,\r\n        autoApproveRegistrations: false,\r\n\r\n        // Course Settings\r\n        defaultCourseVisibility: 'draft',\r\n        allowFacultyToPublish: true,\r\n        requireAdminApproval: false,\r\n\r\n        // Notification Settings\r\n        emailNotificationsEnabled: true,\r\n        pushNotificationsEnabled: false,\r\n        notificationFrequency: 'immediate'\r\n    };\r\n\r\n    const [settings, setSettings] = useState(() => {\r\n        const savedSettings = localStorage.getItem('adminSettings');\r\n        return savedSettings ? JSON.parse(savedSettings) : defaultSettings;\r\n    });\r\n    const [hasChanges, setHasChanges] = useState(false);\r\n\r\n    const handleChange = (key, value) => {\r\n        setSettings(prev => ({ ...prev, [key]: value }));\r\n        setHasChanges(true);\r\n    };\r\n\r\n    const handleSave = () => {\r\n        localStorage.setItem('adminSettings', JSON.stringify(settings));\r\n        toast.success('Settings saved successfully!');\r\n        setHasChanges(false);\r\n    };\r\n\r\n    const handleReset = () => {\r\n        if (window.confirm('Are you sure you want to reset all settings to defaults?')) {\r\n            setSettings(defaultSettings);\r\n            localStorage.removeItem('adminSettings');\r\n            toast.info('Settings reset to defaults');\r\n            setHasChanges(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <ToastContainer theme=\"dark\" position=\"top-right\" />\r\n\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-white\">Platform Settings</h1>\r\n                    <p className=\"text-gray-400 mt-1\">Configure your platform preferences</p>\r\n                </div>\r\n                <div className=\"flex gap-3\">\r\n                    <button\r\n                        onClick={handleReset}\r\n                        className=\"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors\"\r\n                    >\r\n                        <RotateCcw size={18} />\r\n                        Reset to Defaults\r\n                    </button>\r\n                    <button\r\n                        onClick={handleSave}\r\n                        disabled={!hasChanges}\r\n                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors shadow-lg ${hasChanges\r\n                            ? 'bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-500/20'\r\n                            : 'bg-gray-700 text-gray-400 cursor-not-allowed'\r\n                            }`}\r\n                    >\r\n                        <Save size={18} />\r\n                        Save Changes\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {hasChanges && (\r\n                <div className=\"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4\">\r\n                    <p className=\"text-yellow-400 text-sm\">\r\n                        You have unsaved changes. Click \"Save Changes\" to apply them.\r\n                    </p>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                {/* General Settings */}\r\n                <div className=\"bg-gray-800 rounded-2xl border border-gray-700 shadow-xl p-6\">\r\n                    <div className=\"flex items-center gap-3 mb-6\">\r\n                        <div className=\"p-2 bg-indigo-500/10 rounded-lg\">\r\n                            <SettingsIcon size={24} className=\"text-indigo-400\" />\r\n                        </div>\r\n                        <h2 className=\"text-xl font-bold text-white\">General Settings</h2>\r\n                    </div>\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Platform Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={settings.platformName}\r\n                                onChange={(e) => handleChange('platformName', e.target.value)}\r\n                                className=\"w-full bg-white border border-gray-300 text-gray-900 px-4 py-2 rounded-lg focus:outline-none focus:border-indigo-500\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Support Email</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                value={settings.supportEmail}\r\n                                onChange={(e) => handleChange('supportEmail', e.target.value)}\r\n                                className=\"w-full bg-white border border-gray-300 text-gray-900 px-4 py-2 rounded-lg focus:outline-none focus:border-indigo-500\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Default Language</label>\r\n                            <select\r\n                                value={settings.defaultLanguage}\r\n                                onChange={(e) => handleChange('defaultLanguage', e.target.value)}\r\n                                className=\"w-full bg-white border border-gray-300 text-gray-900 px-4 py-2 rounded-lg focus:outline-none focus:border-indigo-500\"\r\n                            >\r\n                                <option value=\"English\">English</option>\r\n                                <option value=\"Spanish\">Spanish</option>\r\n                                <option value=\"French\">French</option>\r\n                                <option value=\"German\">German</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* User Settings */}\r\n                <div className=\"bg-gray-800 rounded-2xl border border-gray-700 shadow-xl p-6\">\r\n                    <div className=\"flex items-center gap-3 mb-6\">\r\n                        <div className=\"p-2 bg-emerald-500/10 rounded-lg\">\r\n                            <Users size={24} className=\"text-emerald-400\" />\r\n                        </div>\r\n                        <h2 className=\"text-xl font-bold text-white\">User Settings</h2>\r\n                    </div>\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Default User Role</label>\r\n                            <select\r\n                                value={settings.defaultUserRole}\r\n                                onChange={(e) => handleChange('defaultUserRole', e.target.value)}\r\n                                className=\"w-full bg-white border border-gray-300 text-gray-900 px-4 py-2 rounded-lg focus:outline-none focus:border-indigo-500\"\r\n                            >\r\n                                <option value=\"student\">Student</option>\r\n                                <option value=\"faculty\">Faculty</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between p-4 bg-gray-900 rounded-lg\">\r\n                            <div>\r\n                                <p className=\"text-white font-medium\">Email Verification Required</p>\r\n                                <p className=\"text-xs text-gray-400\">Require users to verify email before login</p>\r\n                            </div>\r\n                            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={settings.emailVerificationRequired}\r\n                                    onChange={(e) => handleChange('emailVerificationRequired', e.target.checked)}\r\n                                    className=\"sr-only peer\"\r\n                                />\r\n                                <div className=\"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between p-4 bg-gray-900 rounded-lg\">\r\n                            <div>\r\n                                <p className=\"text-white font-medium\">Auto-Approve Registrations</p>\r\n                                <p className=\"text-xs text-gray-400\">Automatically approve new user accounts</p>\r\n                            </div>\r\n                            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={settings.autoApproveRegistrations}\r\n                                    onChange={(e) => handleChange('autoApproveRegistrations', e.target.checked)}\r\n                                    className=\"sr-only peer\"\r\n                                />\r\n                                <div className=\"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Course Settings */}\r\n                <div className=\"bg-gray-800 rounded-2xl border border-gray-700 shadow-xl p-6\">\r\n                    <div className=\"flex items-center gap-3 mb-6\">\r\n                        <div className=\"p-2 bg-blue-500/10 rounded-lg\">\r\n                            <BookOpen size={24} className=\"text-blue-400\" />\r\n                        </div>\r\n                        <h2 className=\"text-xl font-bold text-white\">Course Settings</h2>\r\n                    </div>\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Default Course Visibility</label>\r\n                            <select\r\n                                value={settings.defaultCourseVisibility}\r\n                                onChange={(e) => handleChange('defaultCourseVisibility', e.target.value)}\r\n                                className=\"w-full bg-white border border-gray-300 text-gray-900 px-4 py-2 rounded-lg focus:outline-none focus:border-indigo-500\"\r\n                            >\r\n                                <option value=\"draft\">Draft (Unpublished)</option>\r\n                                <option value=\"published\">Published</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between p-4 bg-gray-900 rounded-lg\">\r\n                            <div>\r\n                                <p className=\"text-white font-medium\">Allow Faculty to Publish</p>\r\n                                <p className=\"text-xs text-gray-400\">Faculty can publish courses directly</p>\r\n                            </div>\r\n                            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={settings.allowFacultyToPublish}\r\n                                    onChange={(e) => handleChange('allowFacultyToPublish', e.target.checked)}\r\n                                    className=\"sr-only peer\"\r\n                                />\r\n                                <div className=\"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between p-4 bg-gray-900 rounded-lg\">\r\n                            <div>\r\n                                <p className=\"text-white font-medium\">Require Admin Approval</p>\r\n                                <p className=\"text-xs text-gray-400\">Courses need admin approval to publish</p>\r\n                            </div>\r\n                            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={settings.requireAdminApproval}\r\n                                    onChange={(e) => handleChange('requireAdminApproval', e.target.checked)}\r\n                                    className=\"sr-only peer\"\r\n                                />\r\n                                <div className=\"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Notification Settings */}\r\n                <div className=\"bg-gray-800 rounded-2xl border border-gray-700 shadow-xl p-6\">\r\n                    <div className=\"flex items-center gap-3 mb-6\">\r\n                        <div className=\"p-2 bg-pink-500/10 rounded-lg\">\r\n                            <Bell size={24} className=\"text-pink-400\" />\r\n                        </div>\r\n                        <h2 className=\"text-xl font-bold text-white\">Notification Settings</h2>\r\n                    </div>\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"flex items-center justify-between p-4 bg-gray-900 rounded-lg\">\r\n                            <div>\r\n                                <p className=\"text-white font-medium\">Email Notifications</p>\r\n                                <p className=\"text-xs text-gray-400\">Send email notifications to users</p>\r\n                            </div>\r\n                            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={settings.emailNotificationsEnabled}\r\n                                    onChange={(e) => handleChange('emailNotificationsEnabled', e.target.checked)}\r\n                                    className=\"sr-only peer\"\r\n                                />\r\n                                <div className=\"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between p-4 bg-gray-900 rounded-lg\">\r\n                            <div>\r\n                                <p className=\"text-white font-medium\">Push Notifications</p>\r\n                                <p className=\"text-xs text-gray-400\">Send browser push notifications</p>\r\n                            </div>\r\n                            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={settings.pushNotificationsEnabled}\r\n                                    onChange={(e) => handleChange('pushNotificationsEnabled', e.target.checked)}\r\n                                    className=\"sr-only peer\"\r\n                                />\r\n                                <div className=\"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Notification Frequency</label>\r\n                            <select\r\n                                value={settings.notificationFrequency}\r\n                                onChange={(e) => handleChange('notificationFrequency', e.target.value)}\r\n                                className=\"w-full bg-white border border-gray-300 text-gray-900 px-4 py-2 rounded-lg focus:outline-none focus:border-indigo-500\"\r\n                            >\r\n                                <option value=\"immediate\">Immediate</option>\r\n                                <option value=\"hourly\">Hourly Digest</option>\r\n                                <option value=\"daily\">Daily Digest</option>\r\n                                <option value=\"weekly\">Weekly Digest</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminSettings;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\admin\\AdminUsers.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\admin\\FinanceManagement.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'api' is defined but never used. Allowed unused vars must match /^[A-Z_]|motion|React/u.","line":3,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":11,"suggestions":[{"messageId":"removeVar","data":{"varName":"api"},"fix":{"range":[190,199],"text":""},"desc":"Remove unused variable 'api'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":28,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":28,"endColumn":23}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { DollarSign, CreditCard, Users, TrendingUp, Download, Search, Filter, ArrowUpRight, ArrowDownLeft } from 'lucide-react';\r\nimport api from '../utils/api';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst FinanceManagement = () => {\r\n    const [fees, setFees] = useState([]);\r\n    const [stats, setStats] = useState({ total: 0, collected: 0, pending: 0 });\r\n    const [loading, setLoading] = useState(true);\r\n    const [filter, setFilter] = useState('All');\r\n\r\n    useEffect(() => {\r\n        fetchFinanceData();\r\n    }, []);\r\n\r\n    const fetchFinanceData = async () => {\r\n        try {\r\n            // Mock data for now as per ERP requirements\r\n            const mockFees = [\r\n                { _id: '1', student: { name: 'Aryan Sharma' }, amount: 2500, status: 'Paid', type: 'Tuition', date: '2025-10-15' },\r\n                { _id: '2', student: { name: 'Priya Verma' }, amount: 1500, status: 'Pending', type: 'Exam', date: '2025-11-01' },\r\n                { _id: '3', student: { name: 'Rahul Gupta' }, amount: 500, status: 'Paid', type: 'Library', date: '2025-10-20' },\r\n                { _id: '4', student: { name: 'Sanya Malhotra' }, amount: 3000, status: 'Overdue', type: 'Hostel', date: '2025-09-30' },\r\n            ];\r\n            setFees(mockFees);\r\n            setStats({ total: 7500, collected: 3000, pending: 4500 });\r\n        } catch (error) {\r\n            toast.error('Financial sync failed');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"p-20 text-center animate-pulse text-indigo-400 font-bold tracking-widest uppercase text-xs\">Syncing Ledger Records...</div>;\r\n\r\n    return (\r\n        <div className=\"space-y-10 pb-20 font-sans\">\r\n            <ToastContainer theme=\"dark\" />\r\n\r\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\r\n                <div>\r\n                    <h1 className=\"text-4xl font-black text-white tracking-tight leading-tight uppercase\">Economic Terminal</h1>\r\n                    <p className=\"text-gray-500 font-bold uppercase tracking-widest text-[10px] mt-2\">Enterprise-grade financial oversight and payroll</p>\r\n                </div>\r\n                <div className=\"flex gap-4\">\r\n                    <button className=\"px-6 py-3 bg-white/5 border border-white/10 rounded-2xl text-[10px] font-black uppercase text-gray-400 hover:text-white transition-all\">Audit Report</button>\r\n                    <button className=\"px-6 py-3 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase shadow-xl shadow-indigo-500/20\">Generate Payroll</button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Stats Overview */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n                {[\r\n                    { label: 'Total Receivables', value: `${stats.total}`, icon: CreditCard, color: 'text-indigo-400' },\r\n                    { label: 'Revenue Collected', value: `${stats.collected}`, icon: TrendingUp, color: 'text-emerald-500' },\r\n                    { label: 'Variance / Pending', value: `${stats.pending}`, icon: ArrowDownLeft, color: 'text-amber-500' }\r\n                ].map((stat, i) => (\r\n                    <motion.div initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }} transition={{ delay: i * 0.1 }} key={i} className=\"glass p-8 rounded-[2.5rem] border border-white/5 flex items-center gap-6\">\r\n                        <div className={`w-16 h-16 rounded-[1.5rem] bg-white/5 flex items-center justify-center ${stat.color} border border-white/10`}>\r\n                            <stat.icon size={32} />\r\n                        </div>\r\n                        <div>\r\n                            <p className=\"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-1\">{stat.label}</p>\r\n                            <p className=\"text-3xl font-black text-white tracking-tighter\">{stat.value}</p>\r\n                        </div>\r\n                    </motion.div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Ledger Table */}\r\n            <div className=\"glass rounded-[3rem] border border-white/5 overflow-hidden\">\r\n                <div className=\"p-8 border-b border-white/5 flex flex-col md:flex-row md:items-center justify-between gap-6 bg-white/[0.02]\">\r\n                    <h3 className=\"text-xl font-black text-white\">Active Ledger</h3>\r\n                    <div className=\"flex gap-4\">\r\n                        <div className=\"relative\">\r\n                            <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-600\" size={16} />\r\n                            <input type=\"text\" placeholder=\"Search accounts...\" className=\"pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-xs text-white outline-none focus:ring-2 focus:ring-indigo-500/20\" />\r\n                        </div>\r\n                        <select className=\"bg-white/5 border border-white/10 rounded-2xl px-4 py-3 text-[10px] font-black uppercase text-gray-400 outline-none\" value={filter} onChange={e => setFilter(e.target.value)}>\r\n                            <option value=\"All\">All Categories</option>\r\n                            <option value=\"Tuition\">Tuition</option>\r\n                            <option value=\"Exam\">Exam</option>\r\n                            <option value=\"Hostel\">Hostel</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left border-collapse\">\r\n                        <thead className=\"bg-white/[0.01]\">\r\n                            <tr>\r\n                                {['Account Holder', 'Type', 'Amount', 'Filing Date', 'Status', 'Actions'].map(h => (\r\n                                    <th key={h} className=\"px-8 py-6 text-[10px] font-black text-gray-500 uppercase tracking-widest border-b border-white/5\">{h}</th>\r\n                                ))}\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-white/5\">\r\n                            {fees.map(fee => (\r\n                                <tr key={fee._id} className=\"hover:bg-white/[0.02] transition-colors group\">\r\n                                    <td className=\"px-8 py-6\">\r\n                                        <div className=\"flex items-center gap-3\">\r\n                                            <div className=\"w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-[10px] font-black text-indigo-400 group-hover:scale-110 transition-transform\">\r\n                                                {fee.student.name.charAt(0)}\r\n                                            </div>\r\n                                            <p className=\"text-sm font-bold text-white uppercase tracking-tight\">{fee.student.name}</p>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-8 py-6\"><span className=\"text-[10px] font-black text-gray-500 uppercase tracking-widest\">{fee.type}</span></td>\r\n                                    <td className=\"px-8 py-6 font-black text-white text-base tracking-tighter\">{fee.amount}</td>\r\n                                    <td className=\"px-8 py-6 text-[10px] font-medium text-gray-500\">{fee.date}</td>\r\n                                    <td className=\"px-8 py-6\">\r\n                                        <span className={`px-3 py-1 rounded-full text-[8px] font-black uppercase tracking-[0.2em] border ${fee.status === 'Paid' ? 'bg-emerald-500/10 text-emerald-500 border-emerald-500/20' :\r\n                                            fee.status === 'Overdue' ? 'bg-red-500/10 text-red-500 border-red-500/20' :\r\n                                                'bg-amber-500/10 text-amber-500 border-amber-500/20'\r\n                                            }`}>{fee.status}</span>\r\n                                    </td>\r\n                                    <td className=\"px-8 py-6 text-right\">\r\n                                        <button className=\"text-[10px] font-black text-primary hover:text-white transition-colors uppercase tracking-widest\">Details</button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FinanceManagement;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\faculty\\FacultyAssignments.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\faculty\\FacultyAttendance.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":18,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":27},{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":36,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":36,"endColumn":31},{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":62,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":62,"endColumn":23}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport api from '../../utils/api';\r\nimport { Calendar, Check, Save } from 'lucide-react';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\n\r\nconst FacultyAttendance = () => {\r\n    const [selectedClass, setSelectedClass] = useState('');\r\n    const [date, setDate] = useState(new Date().toISOString().split('T')[0]);\r\n    const [students, setStudents] = useState([]);\r\n    const [classList, setClassList] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchClasses = async () => {\r\n            try {\r\n                const { data } = await api.get('/faculty/classes');\r\n                setClassList(data);\r\n            } catch (error) {\r\n                toast.error('Failed to load classes');\r\n            }\r\n        };\r\n        fetchClasses();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // Fetch students when class changes\r\n        // For demo, we just fetch all students\r\n        if (selectedClass) {\r\n            const fetchStudents = async () => {\r\n                setLoading(true);\r\n                try {\r\n                    const { data } = await api.get('/faculty/students');\r\n                    // Add local status state\r\n                    const studentsWithStatus = data.map(s => ({ ...s, status: 'Present' }));\r\n                    setStudents(studentsWithStatus);\r\n                } catch (error) {\r\n                    toast.error('Failed to load students');\r\n                } finally {\r\n                    setLoading(false);\r\n                }\r\n            };\r\n            fetchStudents();\r\n        }\r\n    }, [selectedClass]);\r\n\r\n    const toggleStatus = (id) => {\r\n        setStudents(students.map(s =>\r\n            s._id === id ? { ...s, status: s.status === 'Present' ? 'Absent' : 'Present' } : s\r\n        ));\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        if (!selectedClass) return toast.warning('Please select a class');\r\n\r\n        try {\r\n            await api.post('/faculty/attendance', {\r\n                date,\r\n                subject: selectedClass,\r\n                students: students.map(s => ({ studentId: s._id, status: s.status }))\r\n            });\r\n            toast.success('Attendance submitted successfully!');\r\n        } catch (error) {\r\n            toast.error('Failed to submit attendance');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <ToastContainer theme=\"dark\" />\r\n            <div className=\"flex justify-between items-end\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-white tracking-tight\">Mark Attendance</h1>\r\n                    <p className=\"text-gray-500 text-sm mt-1\">Select a class to start recording attendance</p>\r\n                </div>\r\n                <div className=\"text-sm font-bold text-emerald-500 bg-emerald-500/10 px-4 py-2 rounded-xl border border-emerald-500/20\">\r\n                    {new Date(date).toLocaleDateString('en-US', { weekday: 'short', day: 'numeric', month: 'short' })}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Controls */}\r\n            <div className=\"bg-gray-900/50 backdrop-blur-sm p-8 rounded-3xl border border-white/5 shadow-2xl flex flex-col md:flex-row gap-6 items-end\">\r\n                <div className=\"w-full md:w-80\">\r\n                    <label className=\"block text-[10px] font-bold text-emerald-500 uppercase tracking-widest mb-3 ml-1\">Select Subject / Class</label>\r\n                    <div className=\"relative group\">\r\n                        <select\r\n                            value={selectedClass}\r\n                            onChange={(e) => setSelectedClass(e.target.value)}\r\n                            className=\"w-full p-4 bg-white/5 border border-white/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500/50 text-white appearance-none cursor-pointer transition-all hover:bg-white/10\"\r\n                        >\r\n                            <option value=\"\" className=\"bg-gray-900\">-- Choose Class --</option>\r\n                            {classList.map((cls, index) => (\r\n                                <option key={index} value={cls} className=\"bg-gray-900\">{cls}</option>\r\n                            ))}\r\n                        </select>\r\n                        <div className=\"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500 group-hover:text-emerald-500 transition-colors mt-0.5\">\r\n                            <Calendar size={18} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"w-full md:w-auto\">\r\n                    <label className=\"block text-[10px] font-bold text-emerald-500 uppercase tracking-widest mb-3 ml-1\">Attendance Date</label>\r\n                    <input\r\n                        type=\"date\"\r\n                        value={date}\r\n                        onChange={(e) => setDate(e.target.value)}\r\n                        className=\"w-full p-4 bg-white/5 border border-white/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500/50 text-white transition-all hover:bg-white/10\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Student List */}\r\n            {selectedClass && (\r\n                <div className=\"bg-gray-900/50 backdrop-blur-sm rounded-3xl border border-white/5 shadow-2xl overflow-hidden flex flex-col\">\r\n                    <div className=\"p-6 border-b border-white/5 flex justify-between items-center bg-white/5\">\r\n                        <h3 className=\"font-bold text-white tracking-tight text-lg\">Student Enrollment</h3>\r\n                        <div className=\"px-4 py-1.5 bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 rounded-full text-xs font-bold uppercase tracking-widest\">\r\n                            {students.filter(s => s.status === 'Present').length} / {students.length} Marked Present\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"max-h-[600px] overflow-y-auto custom-scrollbar\">\r\n                        <table className=\"w-full text-left border-collapse\">\r\n                            <thead className=\"bg-white/5 text-gray-400 text-[10px] font-bold uppercase tracking-widest sticky top-0 z-10\">\r\n                                <tr>\r\n                                    <th className=\"px-8 py-5\">Roll Number</th>\r\n                                    <th className=\"px-8 py-5\">Student Identity</th>\r\n                                    <th className=\"px-8 py-5 text-center\">Current Status</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"divide-y divide-white/5\">\r\n                                {loading ? (\r\n                                    <tr><td colSpan=\"3\" className=\"text-center py-20 bg-white/5 text-gray-500 font-medium\">Loading class roster...</td></tr>\r\n                                ) : students.map((std) => (\r\n                                    <tr key={std._id} className=\"hover:bg-white/5 transition-all cursor-pointer group\" onClick={() => toggleStatus(std._id)}>\r\n                                        <td className=\"px-8 py-5 font-mono text-xs text-gray-500 group-hover:text-emerald-500 transition-colors uppercase\">{std.studentProfile?.rollNo || 'N/A'}</td>\r\n                                        <td className=\"px-8 py-5\">\r\n                                            <div className=\"flex items-center gap-4\">\r\n                                                <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500/20 to-purple-500/20 border border-white/5 flex items-center justify-center text-indigo-400 font-bold\">\r\n                                                    {std.name.charAt(0)}\r\n                                                </div>\r\n                                                <span className=\"font-bold text-gray-200 group-hover:text-white transition-colors\">{std.name}</span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-8 py-5 text-center\">\r\n                                            <button\r\n                                                className={`min-w-[100px] py-2 rounded-xl text-[10px] font-bold uppercase tracking-widest transition-all ${std.status === 'Present'\r\n                                                    ? 'bg-emerald-500 text-white shadow-lg shadow-emerald-500/30 ring-2 ring-emerald-500/20'\r\n                                                    : 'bg-white/5 text-gray-500 border border-white/10 hover:border-red-500/50 hover:text-red-400'\r\n                                                    }`}\r\n                                            >\r\n                                                {std.status}\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <div className=\"p-6 border-t border-white/5 bg-white/5 flex justify-end\">\r\n                        <button\r\n                            onClick={handleSubmit}\r\n                            className=\"flex items-center gap-3 px-10 py-4 bg-emerald-600 text-white rounded-2xl font-bold hover:bg-emerald-500 shadow-2xl shadow-emerald-600/30 transition-all active:scale-95\"\r\n                        >\r\n                            <Save size={20} /> Submit Records\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FacultyAttendance;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\faculty\\FacultyDashboard.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":29,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":29,"endColumn":27}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\r\nimport api from '../../utils/api';\r\nimport { useSocket } from '../../hooks/useSocket'; // Import Socket\r\nimport { Users, BookOpen, Clock, Activity, Building2, Plus, X } from 'lucide-react';\r\nimport {\r\n    BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer\r\n} from 'recharts';\r\n\r\nconst FacultyDashboard = () => {\r\n    const [stats, setStats] = useState({\r\n        totalCourses: 0,\r\n        totalStudents: 0,\r\n        todayClasses: 0,\r\n        pendingTasks: 0\r\n    });\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const [attendanceData, setAttendanceData] = useState([]);\r\n    const [schedule, setSchedule] = useState([]);\r\n    const socket = useSocket();\r\n\r\n    useEffect(() => {\r\n        const fetchStats = async () => {\r\n            try {\r\n                const { data } = await api.get('/faculty/dashboard');\r\n                setStats(data.stats);\r\n                setAttendanceData(data.attendanceChart || []);\r\n                setSchedule(data.todaySchedule || []);\r\n            } catch (error) {\r\n                console.error(\"Failed to load dashboard\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchStats();\r\n\r\n        if (socket) {\r\n            // Real-time updates\r\n            socket.on('enrollment:new', () => {\r\n                // Ideally trigger a specific update, but re-fetching stats is easier for now\r\n                fetchStats();\r\n            });\r\n            socket.on('attendance:new', () => {\r\n                fetchStats();\r\n            });\r\n        }\r\n\r\n        return () => {\r\n            if (socket) {\r\n                socket.off('enrollment:new');\r\n                socket.off('attendance:new');\r\n            }\r\n        }\r\n    }, [socket]);\r\n\r\n    const cards = [\r\n        { title: 'Total Courses', value: stats.totalCourses, icon: BookOpen, color: 'text-blue-400', bg: 'bg-blue-500/10' },\r\n        { title: 'Total Students', value: stats.totalStudents, icon: Users, color: 'text-purple-400', bg: 'bg-purple-500/10' },\r\n        { title: 'Today\\'s Classes', value: stats.todayClasses, icon: Clock, color: 'text-emerald-400', bg: 'bg-emerald-500/10' },\r\n        { title: 'Pending Tasks', value: stats.pendingTasks, icon: Activity, color: 'text-orange-400', bg: 'bg-orange-500/10' },\r\n    ];\r\n\r\n\r\n\r\n    if (loading) return <div className=\"p-8\">Loading...</div>;\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <h1 className=\"text-3xl font-bold text-white tracking-tight\">Faculty Overview</h1>\r\n                <div className=\"text-sm font-medium text-emerald-500 bg-emerald-500/10 px-4 py-2 rounded-xl border border-emerald-500/20\">\r\n                    Active Session: {stats.todayClasses} Classes Today\r\n                </div>\r\n            </div>\r\n\r\n            {/* Teaching Preferences / Selection */}\r\n            <div className=\"bg-gray-900/50 backdrop-blur-sm rounded-3xl p-8 border border-white/5 shadow-xl\">\r\n                <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\r\n                    <div>\r\n                        <h3 className=\"text-xl font-bold text-white tracking-tight flex items-center gap-2\">\r\n                            <Building2 className=\"text-emerald-500\" size={24} />\r\n                            Teaching Assignment\r\n                        </h3>\r\n                        <p className=\"text-gray-400 text-sm mt-1\">Select the department and classes you are currently assigned to</p>\r\n                    </div>\r\n                    <button\r\n                        onClick={() => window.location.href = '/faculty/profile'}\r\n                        className=\"px-6 py-3 bg-white/5 border border-white/10 hover:bg-white/10 text-white rounded-xl font-bold transition-all active:scale-95 text-sm\"\r\n                    >\r\n                        Update in Profile\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8\">\r\n                    <div className=\"space-y-4\">\r\n                        <label className=\"block text-[10px] font-bold text-emerald-500 uppercase tracking-widest ml-1\">Current Department</label>\r\n                        <div className=\"p-4 bg-white/5 border border-white/10 rounded-2xl text-white font-bold flex items-center justify-between\">\r\n                            <span>{stats.department || 'Not Assigned'}</span>\r\n                            <span className=\"text-[10px] bg-emerald-500/20 text-emerald-400 px-2 py-1 rounded-md uppercase\">Primary</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"space-y-4\">\r\n                        <label className=\"block text-[10px] font-bold text-emerald-500 uppercase tracking-widest ml-1\">Your Classes / Subjects</label>\r\n                        <div className=\"flex flex-wrap gap-3\">\r\n                            {stats.subjects && stats.subjects.length > 0 ? (\r\n                                stats.subjects.map((sub, i) => (\r\n                                    <span key={i} className=\"px-4 py-2 bg-emerald-500/10 border border-emerald-500/20 rounded-xl text-emerald-400 font-medium text-sm\">\r\n                                        {sub}\r\n                                    </span>\r\n                                ))\r\n                            ) : (\r\n                                <p className=\"text-gray-500 text-sm italic\">No subjects selected yet.</p>\r\n                            )}\r\n                            <button\r\n                                onClick={() => window.location.href = '/faculty/profile'}\r\n                                className=\"p-2 bg-white/5 border border-white/10 rounded-xl text-gray-400 hover:text-emerald-500 hover:bg-white/10 transition-all\"\r\n                                title=\"Add Subjects\"\r\n                            >\r\n                                <Plus size={18} />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                {cards.map((stat, i) => (\r\n                    <div key={i} className=\"bg-gray-900/50 backdrop-blur-sm rounded-2xl p-6 border border-white/5 hover:border-white/10 transition-all group flex items-center justify-between shadow-xl\">\r\n                        <div>\r\n                            <p className=\"text-gray-400 text-sm font-medium uppercase tracking-wider\">{stat.title}</p>\r\n                            <h3 className=\"text-3xl font-bold text-white mt-2 tracking-tight\">{stat.value}</h3>\r\n                        </div>\r\n                        <div className={`p-4 rounded-xl ${stat.bg} ${stat.color} shadow-lg`}>\r\n                            <stat.icon size={24} />\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n                {/* Attendance Chart */}\r\n                <div className=\"bg-gray-900/50 backdrop-blur-sm rounded-3xl p-8 border border-white/5 shadow-xl\">\r\n                    <h3 className=\"text-xl font-bold text-white mb-8 tracking-tight\">Average Attendance by Course</h3>\r\n                    <div className=\"h-64\">\r\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                            <BarChart data={attendanceData}>\r\n                                <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#ffffff10\" />\r\n                                <XAxis dataKey=\"name\" stroke=\"#9ca3af\" tick={{ fontSize: 12 }} axisLine={false} tickLine={false} />\r\n                                <YAxis stroke=\"#9ca3af\" tick={{ fontSize: 12 }} axisLine={false} tickLine={false} />\r\n                                <Tooltip\r\n                                    contentStyle={{ backgroundColor: '#111827', borderRadius: '16px', border: '1px solid #ffffff10', boxShadow: '0 20px 25px -5px rgb(0 0 0 / 0.3)' }}\r\n                                    itemStyle={{ color: '#e5e7eb' }}\r\n                                    cursor={{ fill: '#ffffff05' }}\r\n                                />\r\n                                <Bar dataKey=\"attendance\" fill=\"url(#facultyBar)\" radius={[6, 6, 0, 0]} barSize={40}>\r\n                                    <defs>\r\n                                        <linearGradient id=\"facultyBar\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                            <stop offset=\"0%\" stopColor=\"#10b981\" />\r\n                                            <stop offset=\"100%\" stopColor=\"#059669\" />\r\n                                        </linearGradient>\r\n                                    </defs>\r\n                                </Bar>\r\n                            </BarChart>\r\n                        </ResponsiveContainer>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Upcoming Schedule */}\r\n                <div className=\"bg-gray-900/50 backdrop-blur-sm rounded-3xl p-8 border border-white/5 shadow-xl\">\r\n                    <h3 className=\"text-xl font-bold text-white mb-6 tracking-tight\">Upcoming Classes</h3>\r\n                    <div className=\"space-y-4\">\r\n                        {schedule.length === 0 ? (\r\n                            <p className=\"text-gray-400 text-center py-4\">No classes scheduled for today.</p>\r\n                        ) : schedule.map((cls, i) => (\r\n                            <div key={i} className=\"flex items-center gap-5 p-4 bg-white/5 hover:bg-white/10 rounded-2xl transition-all group border border-white/5 hover:border-white/10 active:scale-[0.98]\">\r\n                                <div className=\"w-14 h-14 rounded-2xl bg-emerald-500/10 text-emerald-400 flex flex-col items-center justify-center font-bold border border-emerald-500/20 shadow-lg shadow-emerald-500/5\">\r\n                                    <span className=\"text-sm leading-none\">{cls.time.split(' ')[0]}</span>\r\n                                    <span className=\"text-[10px] uppercase mt-1\">{cls.time.split(' ')[1] || 'AM'}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <h4 className=\"font-bold text-gray-100 text-lg group-hover:text-emerald-400 transition-colors\">{cls.subject}</h4>\r\n                                    <p className=\"text-xs text-gray-500 font-medium\">{cls.class}  Room {cls.room}</p>\r\n                                </div>\r\n                                <button\r\n                                    onClick={() => window.location.href = '/faculty/timetable'}\r\n                                    className=\"ml-auto px-5 py-2.5 bg-emerald-600 hover:bg-emerald-500 text-white text-xs font-bold rounded-xl transition-all shadow-lg shadow-emerald-600/20 active:scale-90\"\r\n                                >\r\n                                    Details\r\n                                </button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FacultyDashboard;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\faculty\\FacultyPayroll.jsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  25 |\n  26 |     useEffect(() => {\n> 27 |         if (user?._id) fetchPayroll();\n     |                        ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  28 |     }, [user]);\n  29 |\n  30 |     useEffect(() => {","line":27,"column":24,"nodeType":null,"endLine":27,"endColumn":36},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchPayroll'. Either include it or remove the dependency array.","line":28,"column":8,"nodeType":"ArrayExpression","endLine":28,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchPayroll, user]","fix":{"range":[925,931],"text":"[fetchPayroll, user]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchPayroll'. Either include it or remove the dependency array.","line":59,"column":8,"nodeType":"ArrayExpression","endLine":59,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [fetchPayroll, socket, user]","fix":{"range":[2209,2223],"text":"[fetchPayroll, socket, user]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport api from '../../utils/api';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { useSocket } from '../../hooks/useSocket';\r\nimport { Download } from 'lucide-react';\r\nimport { toast } from 'react-toastify';\r\nimport { generatePayslipPDF } from '../../utils/payslipGenerator';\r\n\r\nconst FacultyPayroll = () => {\r\n    const { user } = useAuth();\r\n    const socket = useSocket();\r\n    const [payrolls, setPayrolls] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const fetchPayroll = async () => {\r\n        try {\r\n            const { data } = await api.get(`/payroll/faculty/${user._id}`);\r\n            setPayrolls(data);\r\n            setLoading(false);\r\n        } catch (error) {\r\n            console.error(error);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (user?._id) fetchPayroll();\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        if (socket && user?._id) {\r\n            socket.on('payroll:created', (newPayroll) => {\r\n                // If the new payroll belongs to this faculty\r\n                if (newPayroll.faculty === user._id) {\r\n                    setPayrolls(prev => [newPayroll, ...prev]);\r\n                    toast.success(`New payroll generated for ${newPayroll.month}!`);\r\n                }\r\n            });\r\n\r\n            socket.on('payroll:updated', (updatedPayroll) => {\r\n                // Handle both populated and non-populated faculty ID\r\n                const facultyId = updatedPayroll.faculty._id || updatedPayroll.faculty;\r\n                if (facultyId === user._id) {\r\n                    setPayrolls(prev => prev.map(p => p._id === updatedPayroll._id ? updatedPayroll : p));\r\n                    toast.info(`Payroll for ${updatedPayroll.month} has been ${updatedPayroll.status}`);\r\n                }\r\n            });\r\n\r\n            socket.on('payroll:bulk_generated', () => {\r\n                fetchPayroll();\r\n            });\r\n\r\n            return () => {\r\n                socket.off('payroll:created');\r\n                socket.off('payroll:updated');\r\n                socket.off('payroll:bulk_generated');\r\n            };\r\n        }\r\n    }, [socket, user]);\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div>\r\n                <h1 className=\"text-2xl font-bold text-white\">My Payroll</h1>\r\n                <p className=\"text-slate-400 text-sm\">View your salary history and download payslips</p>\r\n            </div>\r\n\r\n            {/* Recent Salary Card */}\r\n            {payrolls.length > 0 && (\r\n                <div className=\"bg-gradient-to-r from-indigo-600 to-violet-600 rounded-3xl p-8 text-white shadow-2xl relative overflow-hidden\">\r\n                    <div className=\"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16\" />\r\n\r\n                    <div className=\"relative z-10 flex flex-col md:flex-row justify-between items-end gap-6\">\r\n                        <div>\r\n                            <p className=\"text-indigo-200 font-medium mb-1\">Most recent payout</p>\r\n                            <h2 className=\"text-4xl font-bold mb-4\">{payrolls[0].netSalary.toLocaleString()}</h2>\r\n                            <div className=\"flex gap-4 text-sm\">\r\n                                <div className=\"bg-white/20 px-3 py-1 rounded-lg backdrop-blur-sm\">\r\n                                    Month: {payrolls[0].month}\r\n                                </div>\r\n                                <div className=\"bg-emerald-500/20 px-3 py-1 rounded-lg backdrop-blur-sm text-emerald-100\">\r\n                                    Status: {payrolls[0].status}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => generatePayslipPDF(payrolls[0], user)}\r\n                            className=\"bg-white text-indigo-600 px-6 py-3 rounded-xl font-bold hover:bg-indigo-50 transition-colors flex items-center gap-2\"\r\n                        >\r\n                            <Download size={20} />\r\n                            Download Payslip\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* History List */}\r\n            <div className=\"bg-slate-800/50 rounded-2xl border border-white/5 overflow-hidden\">\r\n                <div className=\"p-4 border-b border-white/5\">\r\n                    <h3 className=\"font-bold text-white\">Salary History</h3>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left\">\r\n                        <thead>\r\n                            <tr className=\"text-slate-400 text-sm border-b border-white/5\">\r\n                                <th className=\"p-4\">Month</th>\r\n                                <th className=\"p-4\">Base Salary</th>\r\n                                <th className=\"p-4\">Bonuses</th>\r\n                                <th className=\"p-4\">Deductions</th>\r\n                                <th className=\"p-4\">Net Salary</th>\r\n                                <th className=\"p-4\">Date processed</th>\r\n                                <th className=\"p-4 text-right\">Payslip</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"text-slate-300 text-sm\">\r\n                            {loading ? (\r\n                                <tr><td colSpan=\"7\" className=\"p-8 text-center\">Loading...</td></tr>\r\n                            ) : payrolls.map((payroll) => (\r\n                                <tr key={payroll._id} className=\"border-b border-white/5 hover:bg-white/[0.02]\">\r\n                                    <td className=\"p-4 font-medium text-white\">{payroll.month}</td>\r\n                                    <td className=\"p-4\">{payroll.baseSalary.toLocaleString()}</td>\r\n                                    <td className=\"p-4 text-emerald-400\">+{payroll.bonuses.toLocaleString()}</td>\r\n                                    <td className=\"p-4 text-red-400\">-{payroll.deductions.toLocaleString()}</td>\r\n                                    <td className=\"p-4 font-bold text-indigo-400\">{payroll.netSalary.toLocaleString()}</td>\r\n                                    <td className=\"p-4 text-slate-500\">{new Date(payroll.createdAt).toLocaleDateString()}</td>\r\n                                    <td className=\"p-4 text-right\">\r\n                                        <button\r\n                                            onClick={() => generatePayslipPDF(payroll, user)}\r\n                                            className=\"p-2 hover:bg-white/10 rounded-lg transition-colors text-slate-400 hover:text-white\"\r\n                                        >\r\n                                            <Download size={16} />\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FacultyPayroll;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\faculty\\FacultyProfile.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\faculty\\FacultyResources.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":52,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":52,"endColumn":23},{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":65,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":65,"endColumn":23}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { Folders, Plus, Trash2, FileText, Video, Link2, ExternalLink, Search } from 'lucide-react';\r\nimport api from '../../utils/api';\r\nimport { toast } from 'react-toastify';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nconst FacultyResources = () => {\r\n    const [courses, setCourses] = useState([]);\r\n    const [selectedCourse, setSelectedCourse] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showAddModal, setShowAddModal] = useState(false);\r\n\r\n    const [formData, setFormData] = useState({\r\n        title: '',\r\n        url: '',\r\n        type: 'PDF'\r\n    });\r\n\r\n    useEffect(() => {\r\n        fetchCourses();\r\n    }, []);\r\n\r\n    const fetchCourses = async () => {\r\n        try {\r\n            const { data } = await api.get('/courses');\r\n            // Check if data is array before setting\r\n            if (Array.isArray(data)) {\r\n                setCourses(data);\r\n            } else {\r\n                console.error(\"API Error: Courses data is not an array\", data);\r\n                setCourses([]);\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n            toast.error('Failed to load courses');\r\n            setCourses([]);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleAddResource = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const updatedResources = [...(selectedCourse.resources || []), formData];\r\n            await api.put(`/admin/courses/${selectedCourse._id}`, { resources: updatedResources }); // Reusing admin update for now\r\n            setSelectedCourse({ ...selectedCourse, resources: updatedResources });\r\n            setFormData({ title: '', url: '', type: 'PDF' });\r\n            setShowAddModal(false);\r\n            toast.success('Resource added successfully!');\r\n            fetchCourses(); // Sync list\r\n        } catch (error) {\r\n            toast.error('Failed to add resource');\r\n        }\r\n    };\r\n\r\n    const handleDeleteResource = async (index) => {\r\n        if (!window.confirm('Remove this resource?')) return;\r\n        try {\r\n            const updatedResources = selectedCourse.resources.filter((_, i) => i !== index);\r\n            await api.put(`/admin/courses/${selectedCourse._id}`, { resources: updatedResources });\r\n            setSelectedCourse({ ...selectedCourse, resources: updatedResources });\r\n            toast.info('Resource removed');\r\n            fetchCourses();\r\n        } catch (error) {\r\n            toast.error('Failed to remove resource');\r\n        }\r\n    };\r\n\r\n    const getIcon = (type) => {\r\n        switch (type) {\r\n            case 'Video': return <Video className=\"text-indigo-400\" />;\r\n            case 'Link': return <Link2 className=\"text-emerald-400\" />;\r\n            default: return <FileText className=\"text-red-400\" />;\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"p-20 text-center animate-pulse text-emerald-500 font-bold\">Syncing Library...</div>;\r\n\r\n    return (\r\n        <div className=\"space-y-10 pb-20\">\r\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\r\n                <div>\r\n                    <h1 className=\"text-4xl font-black text-white tracking-tight leading-tight\">Digital Resource Library</h1>\r\n                    <p className=\"text-gray-500 font-bold uppercase tracking-widest text-[10px] mt-2\">Manage supplemental study materials for your students</p>\r\n                </div>\r\n                {selectedCourse && (\r\n                    <button\r\n                        onClick={() => setShowAddModal(true)}\r\n                        className=\"px-8 py-3 bg-emerald-600 text-white rounded-2xl font-bold hover:bg-emerald-500 shadow-2xl shadow-emerald-600/30 transition-all flex items-center gap-2\"\r\n                    >\r\n                        Add Resource <Plus size={20} />\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {!selectedCourse ? (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                    {courses.map(course => (\r\n                        <div\r\n                            key={course._id}\r\n                            onClick={() => setSelectedCourse(course)}\r\n                            className=\"glass p-8 rounded-[2.5rem] border border-white/5 cursor-pointer hover:border-emerald-500/30 transition-all group relative overflow-hidden\"\r\n                        >\r\n                            <div className=\"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity\">\r\n                                <Folders size={80} />\r\n                            </div>\r\n                            <span className=\"text-[10px] font-black text-emerald-500 uppercase tracking-widest mb-2 block\">{course.category}</span>\r\n                            <h3 className=\"text-xl font-black text-white group-hover:text-emerald-400 transition-colors\">{course.title}</h3>\r\n                            <div className=\"mt-6 flex items-center justify-between text-xs text-gray-500 font-bold\">\r\n                                <span>{course.resources?.length || 0} Resources</span>\r\n                                <span className=\"bg-white/5 px-3 py-1 rounded-full uppercase tracking-widest text-[9px]\">Open Folder</span>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-8\">\r\n                    <div className=\"flex items-center gap-4 bg-white/5 p-4 rounded-2xl border border-white/5 w-fit\">\r\n                        <span className=\"text-[10px] font-black uppercase tracking-widest text-emerald-500\">Managing Library:</span>\r\n                        <h4 className=\"text-sm font-bold text-white\">{selectedCourse.title}</h4>\r\n                        <button onClick={() => setSelectedCourse(null)} className=\"text-[9px] font-black uppercase tracking-widest text-gray-500 hover:text-white ml-4\">Back to Classes</button>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        {selectedCourse.resources?.map((res, i) => (\r\n                            <div key={i} className=\"glass p-6 rounded-[2rem] border border-white/5 flex items-center justify-between group hover:border-white/10 transition-all\">\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <div className=\"w-12 h-12 rounded-2xl bg-white/5 flex items-center justify-center\">\r\n                                        {getIcon(res.type)}\r\n                                    </div>\r\n                                    <div>\r\n                                        <h4 className=\"font-bold text-white\">{res.title}</h4>\r\n                                        <p className=\"text-[10px] text-gray-500 font-black tracking-[0.2em]\">{res.type}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex gap-2\">\r\n                                    <button onClick={() => window.open(res.url, '_blank')} className=\"p-3 bg-white/5 rounded-xl text-gray-400 hover:text-emerald-500 transition-all\"><ExternalLink size={18} /></button>\r\n                                    <button onClick={() => handleDeleteResource(i)} className=\"p-3 bg-white/5 rounded-xl text-gray-400 hover:text-red-500 transition-all\"><Trash2 size={18} /></button>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {selectedCourse.resources?.length === 0 && (\r\n                        <div className=\"text-center py-20 border-2 border-dashed border-white/5 rounded-[3rem]\">\r\n                            <p className=\"font-bold text-gray-600 uppercase tracking-widest text-xs\">Library is currently empty</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Add Modal */}\r\n            <AnimatePresence>\r\n                {showAddModal && (\r\n                    <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-6 backdrop-blur-md bg-black/60\">\r\n                        <motion.div initial={{ scale: 0.9, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} className=\"glass p-10 rounded-[3rem] border border-emerald-500/30 w-full max-w-lg space-y-8\">\r\n                            <h3 className=\"text-2xl font-black text-white\">Add Course Resource</h3>\r\n                            <form onSubmit={handleAddResource} className=\"space-y-6\">\r\n                                <div className=\"space-y-2\">\r\n                                    <label className=\"text-[10px] font-black text-emerald-500 uppercase tracking-widest ml-1\">Title</label>\r\n                                    <input type=\"text\" className=\"w-full p-4 bg-white/5 border border-white/10 rounded-2xl text-white outline-none focus:ring-2 focus:ring-emerald-500/20\" value={formData.title} onChange={e => setFormData({ ...formData, title: e.target.value })} placeholder=\"e.g. Week 1 Lecture Notes\" required />\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <label className=\"text-[10px] font-black text-emerald-500 uppercase tracking-widest ml-1\">Target URL</label>\r\n                                    <input type=\"url\" className=\"w-full p-4 bg-white/5 border border-white/10 rounded-2xl text-white outline-none focus:ring-2 focus:ring-emerald-500/20\" value={formData.url} onChange={e => setFormData({ ...formData, url: e.target.value })} placeholder=\"https://...\" required />\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <label className=\"text-[10px] font-black text-emerald-500 uppercase tracking-widest ml-1\">Type</label>\r\n                                    <select className=\"w-full p-4 bg-white/5 border border-white/10 rounded-2xl text-white outline-none focus:ring-2 focus:ring-emerald-500/20\" value={formData.type} onChange={e => setFormData({ ...formData, type: e.target.value })}>\r\n                                        <option value=\"PDF\" className=\"bg-gray-900\">PDF Document</option>\r\n                                        <option value=\"Video\" className=\"bg-gray-900\">External Video</option>\r\n                                        <option value=\"Link\" className=\"bg-gray-900\">Resource Link</option>\r\n                                        <option value=\"Other\" className=\"bg-gray-900\">Other</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"flex gap-4 pt-4\">\r\n                                    <button type=\"button\" onClick={() => setShowAddModal(false)} className=\"flex-1 py-4 bg-white/5 text-gray-400 rounded-2xl font-bold\">Cancel</button>\r\n                                    <button type=\"submit\" className=\"flex-1 py-4 bg-emerald-600 text-white rounded-2xl font-bold shadow-xl\">Confirm Addition</button>\r\n                                </div>\r\n                            </form>\r\n                        </motion.div>\r\n                    </div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FacultyResources;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\faculty\\FacultyStudents.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'data' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]|motion|React/u.","line":35,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":35,"endColumn":25,"suggestions":[{"messageId":"removeVar","data":{"varName":"data"},"fix":{"range":[1182,1233],"text":""},"desc":"Remove unused variable 'data'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":54,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":54,"endColumn":23},{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":67,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":67,"endColumn":23}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport api from '../../utils/api';\r\nimport { Users, Search, Plus, FileText, Download, Calendar, BookOpen, Trash2 } from 'lucide-react';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\n\r\nconst FacultyStudents = () => {\r\n    const [activeTab, setActiveTab] = useState('students');\r\n\r\n    // Subjects State\r\n    const [subjects, setSubjects] = useState([]);\r\n    const [newSubject, setNewSubject] = useState('');\r\n    const [loadingSubjects, setLoadingSubjects] = useState(false);\r\n\r\n    const [students, setStudents] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchStudents = async () => {\r\n            try {\r\n                const { data } = await api.get('/faculty/students');\r\n                setStudents(data);\r\n            } catch {\r\n                console.error(\"Failed to fetch students\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchStudents();\r\n        fetchSubjects();\r\n    }, []);\r\n\r\n    const fetchSubjects = async () => {\r\n        setLoadingSubjects(true);\r\n        try {\r\n            const { data } = await api.get('/faculty/classes');\r\n        } catch {\r\n            console.error(\"Failed to load subjects\");\r\n            toast.error(\"Failed to load subjects\");\r\n        } finally {\r\n            setLoadingSubjects(false);\r\n        }\r\n    };\r\n\r\n    const handleAddSubject = async (e) => {\r\n        e.preventDefault();\r\n        if (!newSubject.trim()) return;\r\n\r\n        try {\r\n            const updatedSubjects = [...subjects, newSubject.trim()];\r\n            await api.post('/faculty/subjects', { subjects: updatedSubjects });\r\n            setSubjects(updatedSubjects);\r\n            setNewSubject('');\r\n            toast.success(\"Subject added\");\r\n        } catch (error) {\r\n            toast.error(\"Failed to add subject\");\r\n        }\r\n    };\r\n\r\n    const handleRemoveSubject = async (subjectToRemove) => {\r\n        if (!window.confirm(`Remove ${subjectToRemove}?`)) return;\r\n\r\n        try {\r\n            const updatedSubjects = subjects.filter(s => s !== subjectToRemove);\r\n            await api.post('/faculty/subjects', { subjects: updatedSubjects });\r\n            setSubjects(updatedSubjects);\r\n            toast.success(\"Subject removed\");\r\n        } catch (error) {\r\n            toast.error(\"Failed to remove subject\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <ToastContainer theme=\"dark\" />\r\n            <h1 className=\"text-3xl font-bold text-white tracking-tight\">Class Management</h1>\r\n\r\n            {/* Tabs */}\r\n            <div className=\"flex gap-8 border-b border-white/5\">\r\n                <button\r\n                    onClick={() => setActiveTab('students')}\r\n                    className={`pb-4 px-1 text-sm font-bold border-b-2 transition-all ${activeTab === 'students' ? 'border-emerald-500 text-emerald-500 shadow-[0_4px_12px_-4px_rgba(16,185,129,0.3)]' : 'border-transparent text-gray-500 hover:text-gray-300'}`}\r\n                >\r\n                    Student List\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('grades')}\r\n                    className={`pb-4 px-1 text-sm font-bold border-b-2 transition-all ${activeTab === 'grades' ? 'border-emerald-500 text-emerald-500 shadow-[0_4px_12px_-4px_rgba(16,185,129,0.3)]' : 'border-transparent text-gray-500 hover:text-gray-300'}`}\r\n                >\r\n                    Grades & Results\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('exams')}\r\n                    className={`pb-4 px-1 text-sm font-bold border-b-2 transition-all ${activeTab === 'exams' ? 'border-emerald-500 text-emerald-500 shadow-[0_4px_12px_-4px_rgba(16,185,129,0.3)]' : 'border-transparent text-gray-500 hover:text-gray-300'}`}\r\n                >\r\n                    Exams\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('subjects')}\r\n                    className={`pb-4 px-1 text-sm font-bold border-b-2 transition-all ${activeTab === 'subjects' ? 'border-emerald-500 text-emerald-500 shadow-[0_4px_12px_-4px_rgba(16,185,129,0.3)]' : 'border-transparent text-gray-500 hover:text-gray-300'}`}\r\n                >\r\n                    My Subjects\r\n                </button>\r\n            </div>\r\n\r\n            {/* Content Container */}\r\n            <div className=\"bg-gray-900/50 backdrop-blur-sm rounded-3xl border border-white/5 shadow-2xl overflow-hidden p-8\">\r\n\r\n                {/* Controls */}\r\n                <div className=\"flex justify-between items-center mb-10\">\r\n                    <div className=\"relative group w-full max-w-sm\">\r\n                        <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-emerald-500 transition-colors\" size={18} />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Find a student by name or roll...\"\r\n                            className=\"w-full pl-12 pr-6 py-4 bg-white/5 border border-white/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500/50 text-white transition-all hover:bg-white/10 placeholder:text-gray-600\"\r\n                        />\r\n                    </div>\r\n                    {activeTab === 'exams' && (\r\n                        <button className=\"flex items-center gap-3 px-6 py-4 bg-emerald-600 text-white rounded-2xl font-bold hover:bg-emerald-500 shadow-2xl shadow-emerald-600/30 transition-all active:scale-95\">\r\n                            <Plus size={20} /> Create New Exam\r\n                        </button>\r\n                    )}\r\n                    {activeTab === 'grades' && (\r\n                        <button className=\"flex items-center gap-3 px-6 py-4 bg-white/5 border border-white/10 text-gray-300 rounded-2xl font-bold hover:bg-white/10 transition-all active:scale-95\">\r\n                            <Download size={20} /> Export Records\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                {activeTab === 'students' && (\r\n                    <table className=\"w-full text-left border-collapse\">\r\n                        <thead className=\"bg-white/5 text-gray-400 text-[10px] uppercase font-bold tracking-widest\">\r\n                            <tr>\r\n                                <th className=\"px-8 py-5\">Roll No</th>\r\n                                <th className=\"px-8 py-5\">Student Identity</th>\r\n                                <th className=\"px-8 py-5\">Class Section</th>\r\n                                <th className=\"px-8 py-5\">Attendance Rate</th>\r\n                                <th className=\"px-8 py-5 text-center\">Academic Grade</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-white/5\">\r\n                            {loading ? (\r\n                                <tr><td colSpan=\"5\" className=\"text-center py-8 text-gray-500\">Loading students...</td></tr>\r\n                            ) : students.length === 0 ? (\r\n                                <tr><td colSpan=\"5\" className=\"text-center py-8 text-gray-500\">No students found.</td></tr>\r\n                            ) : (\r\n                                students.map((std) => (\r\n                                    <tr key={std._id} className=\"hover:bg-white/5 transition-colors group\">\r\n                                        <td className=\"px-8 py-5 font-mono text-xs text-gray-500 group-hover:text-emerald-500 transition-colors\">{std.studentProfile?.rollNo || 'N/A'}</td>\r\n                                        <td className=\"px-8 py-5\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className=\"w-8 h-8 rounded-lg bg-emerald-500/10 text-emerald-400 flex items-center justify-center font-bold text-xs border border-emerald-500/20\">\r\n                                                    {std.name.charAt(0)}\r\n                                                </div>\r\n                                                <div>\r\n                                                    <span className=\"font-bold text-gray-200 group-hover:text-white transition-colors block\">{std.name}</span>\r\n                                                    <span className=\"text-[10px] text-gray-500\">{std.email}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-8 py-5 text-gray-400\">{std.studentProfile?.branch || 'General'}</td>\r\n                                        <td className=\"px-8 py-5\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className=\"flex-1 max-w-[100px] bg-white/5 rounded-full h-1.5 border border-white/5 overflow-hidden\">\r\n                                                    <div className=\"bg-gray-600 h-full rounded-full\" style={{ width: '0%' }}></div>\r\n                                                </div>\r\n                                                <span className=\"text-xs font-bold text-gray-400\">N/A</span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-8 py-5 text-center\">\r\n                                            <span className=\"px-3 py-1 bg-white/5 text-gray-400 border border-white/10 rounded-lg text-[10px] font-bold tracking-widest uppercase\">\r\n                                                N/A\r\n                                            </span>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                )}\r\n\r\n                {activeTab === 'grades' && (\r\n                    <div className=\"text-center py-24 bg-white/5 rounded-3xl border border-white/5 border-dashed\">\r\n                        <div className=\"w-20 h-20 bg-indigo-500/10 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n                            <FileText size={40} className=\"text-indigo-400 opacity-60\" />\r\n                        </div>\r\n                        <h3 className=\"text-2xl font-bold text-white tracking-tight\">Gradebook Records</h3>\r\n                        <p className=\"text-gray-500 mt-2 max-w-xs mx-auto\">Access and manage student performance data. Select a session to begin.</p>\r\n                    </div>\r\n                )}\r\n\r\n                {activeTab === 'exams' && (\r\n                    <div className=\"text-center py-24 bg-white/5 rounded-3xl border border-white/5 border-dashed\">\r\n                        <div className=\"w-20 h-20 bg-emerald-500/10 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n                            <Calendar size={40} className=\"text-emerald-400 opacity-60\" />\r\n                        </div>\r\n                        <h3 className=\"text-2xl font-bold text-white tracking-tight\">Exam Management</h3>\r\n                        <p className=\"text-gray-500 mt-2 max-w-xs mx-auto\">No upcoming examinations have been scheduled for your classes yet.</p>\r\n                    </div>\r\n                )}\r\n\r\n                {activeTab === 'subjects' && (\r\n                    <div className=\"space-y-8\">\r\n                        <div className=\"p-8 bg-white/5 rounded-2xl border border-white/5\">\r\n                            <h3 className=\"text-xl font-bold text-white mb-6 flex items-center gap-3\">\r\n                                <Plus size={24} className=\"text-emerald-500\" /> Add New Subject\r\n                            </h3>\r\n                            <form onSubmit={handleAddSubject} className=\"flex gap-4\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter subject name (e.g. Data Structures)...\"\r\n                                    className=\"flex-1 p-4 bg-gray-900 border border-white/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500/50 text-white transition-all placeholder:text-gray-600\"\r\n                                    value={newSubject}\r\n                                    onChange={(e) => setNewSubject(e.target.value)}\r\n                                />\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    disabled={!newSubject.trim()}\r\n                                    className=\"px-8 py-4 bg-emerald-600 text-white rounded-2xl font-bold hover:bg-emerald-500 shadow-2xl shadow-emerald-600/30 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                >\r\n                                    Add Subject\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                            {loadingSubjects ? (\r\n                                <div className=\"text-gray-500 col-span-full text-center py-8\">Loading subjects...</div>\r\n                            ) : subjects.length === 0 ? (\r\n                                <div className=\"text-gray-500 col-span-full text-center py-8\">No subjects added yet.</div>\r\n                            ) : (\r\n                                subjects.map((subject, index) => (\r\n                                    <div key={index} className=\"flex items-center justify-between p-6 bg-white/5 hover:bg-white/10 rounded-2xl border border-white/5 group transition-all\">\r\n                                        <div className=\"flex items-center gap-4\">\r\n                                            <div className=\"w-12 h-12 rounded-xl bg-purple-500/10 text-purple-400 flex items-center justify-center border border-purple-500/20\">\r\n                                                <BookOpen size={20} />\r\n                                            </div>\r\n                                            <span className=\"font-bold text-gray-200 group-hover:text-white transition-colors\">{subject}</span>\r\n                                        </div>\r\n                                        <button\r\n                                            onClick={() => handleRemoveSubject(subject)}\r\n                                            className=\"p-3 text-gray-500 hover:bg-red-500/10 hover:text-red-500 rounded-xl transition-all opacity-0 group-hover:opacity-100\"\r\n                                        >\r\n                                            <Trash2 size={18} />\r\n                                        </button>\r\n                                    </div>\r\n                                ))\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default FacultyStudents;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\faculty\\FacultyTimetable.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":99,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":99,"endColumn":27}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport api from '../../utils/api';\r\nimport { Calendar, Plus, Trash2 } from 'lucide-react';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\n\r\nconst FacultyTimetable = () => {\r\n    const [timetable, setTimetable] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const [formData, setFormData] = useState({\r\n        day: 'Monday',\r\n        time: '',\r\n        subject: '',\r\n        room: '',\r\n        class: '',\r\n        semester: '',\r\n        meetingLink: '' // Added meeting link\r\n    });\r\n    const [publishLoading, setPublishLoading] = useState(false);\r\n\r\n    const fetchTimetable = React.useCallback(async () => {\r\n        try {\r\n            const { data } = await api.get('/faculty/timetable');\r\n            setTimetable(data);\r\n        } catch {\r\n            console.error(\"Failed to fetch timetable\");\r\n            // toast.error(\"Failed to fetch timetable\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchTimetable();\r\n    }, [fetchTimetable]);\r\n\r\n    const handlePublish = async () => {\r\n        // Find a representative branch/sem from the current timetable to publish\r\n        // This button normally publishes for the currently edited/viewed branch\r\n        // For now, we'll try to publish for any branch found in the list, \r\n        // OR we can make it more explicit.\r\n        if (timetable.length === 0) {\r\n            toast.warn('Add some classes before publishing');\r\n            return;\r\n        }\r\n\r\n        const uniqueSets = [...new Set(timetable.map(t => `${t.branch}|${t.semester}`))];\r\n\r\n        try {\r\n            setPublishLoading(true);\r\n            for (const set of uniqueSets) {\r\n                const [branch, semester] = set.split('|');\r\n                await api.post('/faculty/timetable/publish', { branch, semester });\r\n            }\r\n            toast.success('Timetable published to students!');\r\n            fetchTimetable();\r\n        } catch (error) {\r\n            toast.error(error.response?.data?.message || 'Failed to publish');\r\n        } finally {\r\n            setPublishLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleAddClass = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            // Need to ensure branch is handled. For now assuming branch is part of 'class' or hardcoded/profile driven.\r\n            // But the backend expects 'branch' and 'semester'.\r\n            // The form has 'class' (e.g. CSE-A) and 'semester' (new).\r\n            // Let's assume 'branch' is the \"Class\" field for now, or split it.\r\n            // Actually, in the tasks I said \"Add Semester field\".\r\n            // I'll treat 'class' input as 'branch' for now or adding a \"Branch\" field would be better but let's stick to the plan.\r\n            // Wait, the backend requires 'branch'. I'll map 'class' input to 'branch' payload.\r\n\r\n            const payload = {\r\n                ...formData,\r\n                branch: formData.class, // Map Class input to Branch (e.g. CSE)\r\n            };\r\n\r\n            await api.post('/faculty/timetable', payload);\r\n\r\n            // Optimistic update or refetch\r\n            // Refetch is safer to get the correct IDs\r\n            fetchTimetable();\r\n\r\n            toast.success('Class added to draft!');\r\n            setFormData({ day: 'Monday', time: '', subject: '', room: '', class: '', semester: '' });\r\n        } catch (error) {\r\n            toast.error(error.response?.data?.message || 'Failed to schedule class');\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        if (window.confirm('Cancel this class?')) {\r\n            try {\r\n                await api.delete(`/faculty/timetable/${id}`);\r\n                setTimetable(timetable.filter(t => t.id !== id));\r\n                toast.info('Class cancelled');\r\n            } catch (error) {\r\n                toast.error('Failed to cancel class');\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <ToastContainer theme=\"dark\" />\r\n            <div className=\"flex justify-between items-end\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-white tracking-tight\">Manage Timetable</h1>\r\n                    <p className=\"text-gray-500 text-sm mt-1\">Schedule and manage your weekly class sessions</p>\r\n                </div>\r\n                <button\r\n                    onClick={handlePublish}\r\n                    disabled={publishLoading}\r\n                    className=\"px-8 py-3 bg-emerald-600 text-white rounded-2xl font-bold hover:bg-emerald-500 shadow-2xl shadow-emerald-600/30 transition-all active:scale-95 disabled:opacity-50 flex items-center gap-2\"\r\n                >\r\n                    {publishLoading ? (\r\n                        <>\r\n                            <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n                            Publishing...\r\n                        </>\r\n                    ) : (\r\n                        'Publish Changes'\r\n                    )}\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n                {/* Form */}\r\n                <div className=\"bg-gray-900/50 backdrop-blur-sm p-8 rounded-3xl border border-white/5 shadow-2xl h-fit\">\r\n                    <h3 className=\"text-xl font-bold text-white mb-6 flex items-center gap-3\">\r\n                        <Plus size={24} className=\"text-emerald-500\" /> New Class\r\n                    </h3>\r\n                    <form onSubmit={handleAddClass} className=\"space-y-6\">\r\n                        <div>\r\n                            <label className=\"text-[10px] font-bold text-emerald-500 uppercase tracking-widest mb-2 ml-1\">Day of Week</label>\r\n                            <select\r\n                                className=\"w-full p-4 bg-white/5 border border-white/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500/50 text-white transition-all hover:bg-white/10\"\r\n                                value={formData.day}\r\n                                onChange={(e) => setFormData({ ...formData, day: e.target.value })}\r\n                            >\r\n                                {['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'].map(d => (\r\n                                    <option key={d} value={d} className=\"bg-gray-900\">{d}</option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"text-[10px] font-bold text-emerald-500 uppercase tracking-widest mb-2 ml-1\">Session Time</label>\r\n                            <input\r\n                                type=\"time\"\r\n                                className=\"w-full p-4 bg-white/5 border border-white/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500/50 text-white transition-all hover:bg-white/10\"\r\n                                value={formData.time}\r\n                                onChange={(e) => setFormData({ ...formData, time: e.target.value })}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"text-[10px] font-bold text-emerald-500 uppercase tracking-widest mb-2 ml-1\">Subject Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"e.g. Computer Networks\"\r\n                                className=\"w-full p-4 bg-white/5 border border-white/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500/50 text-white transition-all hover:bg-white/10 placeholder:text-gray-600\"\r\n                                value={formData.subject}\r\n                                onChange={(e) => setFormData({ ...formData, subject: e.target.value })}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label className=\"text-[10px] font-bold text-emerald-500 uppercase tracking-widest mb-2 ml-1\">Branch / Department</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"e.g. CSE\"\r\n                                    className=\"w-full p-3 bg-white/5 border border-white/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500/50 text-white transition-all hover:bg-white/10 placeholder:text-gray-600\"\r\n                                    value={formData.class}\r\n                                    onChange={(e) => setFormData({ ...formData, class: e.target.value })}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"text-[10px] font-bold text-emerald-500 uppercase tracking-widest mb-2 ml-1\">Semester</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"6\"\r\n                                    className=\"w-full p-3 bg-white/5 border border-white/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500/50 text-white transition-all hover:bg-white/10 placeholder:text-gray-600\"\r\n                                    value={formData.semester}\r\n                                    onChange={(e) => setFormData({ ...formData, semester: e.target.value })}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"text-[10px] font-bold text-emerald-500 uppercase tracking-widest mb-2 ml-1\">Room</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"302\"\r\n                                className=\"w-full p-4 bg-white/5 border border-white/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500/50 text-white transition-all hover:bg-white/10 placeholder:text-gray-600\"\r\n                                value={formData.room}\r\n                                onChange={(e) => setFormData({ ...formData, room: e.target.value })}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"text-[10px] font-bold text-emerald-500 uppercase tracking-widest mb-2 ml-1\">Live Meeting Link (Optional)</label>\r\n                            <input\r\n                                type=\"url\"\r\n                                placeholder=\"https://zoom.us/j/...\"\r\n                                className=\"w-full p-4 bg-white/5 border border-white/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500/50 text-white transition-all hover:bg-white/10 placeholder:text-gray-600\"\r\n                                value={formData.meetingLink}\r\n                                onChange={(e) => setFormData({ ...formData, meetingLink: e.target.value })}\r\n                            />\r\n                        </div>\r\n                        <button type=\"submit\" className=\"w-full py-4 bg-white/10 text-white rounded-2xl font-bold hover:bg-white/20 border border-white/10 transition-all active:scale-95\">\r\n                            Add Session\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n\r\n                {/* List */}\r\n                <div className=\"lg:col-span-2 bg-gray-900/50 backdrop-blur-sm rounded-3xl border border-white/5 shadow-2xl overflow-hidden flex flex-col\">\r\n                    <div className=\"p-6 bg-white/5 border-b border-white/5 font-bold text-white text-lg tracking-tight\">\r\n                        Weekly Schedule\r\n                    </div>\r\n                    <div className=\"divide-y divide-white/5 flex-1 overflow-y-auto custom-scrollbar\">\r\n                        {loading ? (\r\n                            <div className=\"p-20 text-center text-gray-500 font-medium\">Loading schedule...</div>\r\n                        ) : timetable.length === 0 ? (\r\n                            <div className=\"p-20 text-center text-gray-500 font-medium\">No sessions scheduled for this week.</div>\r\n                        ) : (\r\n                            timetable.map((item) => (\r\n                                <div key={item.id} className=\"p-6 flex flex-col md:flex-row md:items-center justify-between hover:bg-white/5 transition-all gap-5 group\">\r\n                                    <div className=\"flex items-center gap-5\">\r\n                                        <div className=\"w-14 h-14 rounded-2xl bg-emerald-500/10 text-emerald-400 flex flex-col items-center justify-center font-bold text-[10px] uppercase border border-emerald-500/20 shadow-lg shadow-emerald-500/5\">\r\n                                            {item.day.substring(0, 3)}\r\n                                        </div>\r\n                                        <div>\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <h4 className=\"font-bold text-gray-100 text-lg group-hover:text-emerald-400 transition-colors\">{item.subject}</h4>\r\n                                                <span className={`text-[8px] px-2 py-0.5 rounded-md font-black uppercase tracking-widest border ${item.isPublished\r\n                                                    ? 'bg-emerald-500/10 text-emerald-500 border-emerald-500/20'\r\n                                                    : 'bg-orange-500/10 text-orange-400 border-orange-500/20'}`}>\r\n                                                    {item.isPublished ? 'Published' : 'Draft'}\r\n                                                </span>\r\n                                            </div>\r\n                                            <div className=\"flex items-center gap-3 mt-1.5\">\r\n                                                <span className=\"text-xs text-gray-500 font-medium\">{item.time}</span>\r\n                                                <span className=\"w-1 h-1 rounded-full bg-gray-700\"></span>\r\n                                                <span className=\"text-xs text-gray-400 font-bold border border-white/5 px-2 py-0.5 rounded-md bg-white/5\">Room {item.room}</span>\r\n                                                <span className=\"w-1 h-1 rounded-full bg-gray-700\"></span>\r\n                                                <span className=\"text-xs text-emerald-500/80 font-bold\">{item.class}</span>\r\n                                                {item.meetingLink && (\r\n                                                    <span className=\"ml-3 px-2 py-0.5 bg-indigo-500/20 border border-indigo-500/30 rounded text-[9px] font-bold text-indigo-400\">Live Available</span>\r\n                                                )}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button\r\n                                        onClick={() => handleDelete(item.id)}\r\n                                        className=\"p-3 text-gray-500 hover:bg-red-500/10 hover:text-red-500 rounded-2xl transition-all self-end md:self-auto border border-transparent hover:border-red-500/20\"\r\n                                    >\r\n                                        <Trash2 size={20} />\r\n                                    </button>\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FacultyTimetable;\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\student\\CourseContentPage.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":190,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":190,"endColumn":23}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n    PlayCircle, FileText, CheckCircle, ChevronRight, Lock,\r\n    ArrowLeft, BookOpen, Clock, Award, Menu, X, Loader2,\r\n    HelpCircle, ChevronLeft, Send, Sparkles, Download, Eye,\r\n    Target, Lightbulb, Brain, MessageSquare, Folders, ClipboardList\r\n} from 'lucide-react';\r\nimport api from '../../utils/api';\r\nimport { toast } from 'react-toastify';\r\nimport ResourceSection from '../../components/course/ResourceSection';\r\nimport AssignmentSection from '../../components/course/AssignmentSection';\r\nimport { generateCertificate } from '../../utils/certificateGenerator';\r\nimport AITutor from '../../components/AITutor';\r\n\r\nconst QuizComponent = ({ topic, topicQuestions, onComplete }) => {\r\n    const [currentQuestion, setCurrentQuestion] = useState(0);\r\n    const [selectedOption, setSelectedOption] = useState(null);\r\n    const [showResult, setShowResult] = useState(false);\r\n    const [score, setScore] = useState(0);\r\n\r\n    const questions = topicQuestions || [];\r\n\r\n    const handleNext = () => {\r\n        if (selectedOption === (questions[currentQuestion].correctAnswer ?? questions[currentQuestion].correct)) {\r\n            setScore(score + 1);\r\n        }\r\n\r\n        if (currentQuestion + 1 < questions.length) {\r\n            setCurrentQuestion(currentQuestion + 1);\r\n            setSelectedOption(null);\r\n        } else {\r\n            setShowResult(true);\r\n        }\r\n    };\r\n\r\n    if (showResult) {\r\n        const passed = score >= questions.length * 0.6;\r\n        return (\r\n            <motion.div\r\n                initial={{ opacity: 0, scale: 0.9 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                className=\"p-10 glass rounded-[2.5rem] text-center space-y-6 border border-white/10\"\r\n            >\r\n                <div className={`w-20 h-20 rounded-full mx-auto flex items-center justify-center ${passed ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'}`}>\r\n                    <Award size={40} />\r\n                </div>\r\n                <div>\r\n                    <h2 className=\"text-3xl font-black mb-1\">{passed ? 'Course Level Mastered!' : 'Keep Pushing Forward'}</h2>\r\n                    <p className=\"text-gray-400 font-medium\">Topic: <span className=\"text-white\">{topic}</span></p>\r\n                    <p className=\"text-sm text-gray-500 mt-4 font-bold uppercase tracking-widest leading-loose\">\r\n                        Your Accuracy: <span className={passed ? 'text-green-400' : 'text-red-400'}>{Math.round((score / questions.length) * 100)}%</span> <br />\r\n                        Questions: {score}/{questions.length}\r\n                    </p>\r\n                </div>\r\n                {passed && (\r\n                    <div className=\"bg-white/5 p-4 rounded-2xl border border-white/5 text-xs text-indigo-300 font-medium\">\r\n                         Progress has been synced to your academic record.\r\n                    </div>\r\n                )}\r\n                <div className=\"pt-6\">\r\n                    <button\r\n                        onClick={() => onComplete(score)}\r\n                        className=\"px-12 py-4 bg-primary text-white rounded-2xl font-black shadow-2xl shadow-primary/30 hover:scale-105 active:scale-95 transition-all\"\r\n                    >\r\n                        {passed ? 'Continue Learning' : 'Try Again'}\r\n                    </button>\r\n                </div>\r\n            </motion.div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-8 max-w-2xl mx-auto pb-20\">\r\n            <div className=\"flex justify-between items-center px-4\">\r\n                <div className=\"space-y-1\">\r\n                    <span className=\"text-[10px] font-black text-secondary uppercase tracking-[0.2em]\">Module Assessment</span>\r\n                    <h4 className=\"text-sm font-bold text-gray-400\">Step {currentQuestion + 1} / {questions.length}</h4>\r\n                </div>\r\n                <div className=\"flex gap-1.5\">\r\n                    {questions.map((_, i) => (\r\n                        <div key={i} className={`w-10 h-1.5 rounded-full transition-all duration-500 ${i <= currentQuestion ? 'bg-primary shadow-[0_0_10px_rgba(99,102,241,0.5)]' : 'bg-white/10'}`} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"glass p-10 rounded-[3rem] border border-white/5 space-y-10 relative overflow-hidden group\">\r\n                <div className=\"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full -mr-16 -mt-16 blur-2xl group-hover:bg-primary/10 transition-colors\" />\r\n                <h3 className=\"text-2xl font-black leading-tight relative z-10\">{questions[currentQuestion].q || questions[currentQuestion].question}</h3>\r\n                <div className=\"grid gap-4 relative z-10\">\r\n                    {questions[currentQuestion].options.map((option, i) => (\r\n                        <button\r\n                            key={i}\r\n                            onClick={() => setSelectedOption(i)}\r\n                            className={`p-6 rounded-2xl text-left font-bold transition-all border flex items-center justify-between group/option ${selectedOption === i\r\n                                ? 'bg-primary/20 border-primary text-white shadow-xl translate-x-2'\r\n                                : 'bg-white/[0.02] border-white/5 text-gray-400 hover:border-white/20 hover:bg-white/[0.04]'\r\n                                }`}\r\n                        >\r\n                            <div className=\"flex items-center gap-4\">\r\n                                <span className={`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-black ${selectedOption === i ? 'bg-primary text-white' : 'bg-white/5 text-gray-500'}`}>\r\n                                    {String.fromCharCode(65 + i)}\r\n                                </span>\r\n                                <span>{option}</span>\r\n                            </div>\r\n                            <div className={`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${selectedOption === i ? 'border-primary bg-primary' : 'border-white/10 group-hover/option:border-white/30'\r\n                                }`}>\r\n                                {selectedOption === i && <CheckCircle size={14} className=\"text-white\" />}\r\n                            </div>\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <button\r\n                disabled={selectedOption === null}\r\n                onClick={handleNext}\r\n                className=\"w-full py-6 bg-white text-black rounded-2xl font-black text-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 transition-all shadow-2xl active:scale-[0.98] flex items-center justify-center gap-2 group\"\r\n            >\r\n                {currentQuestion + 1 === questions.length ? 'Finalize Assessment' : 'Next Question'}\r\n                <ChevronRight size={20} className=\"group-hover:translate-x-1 transition-transform\" />\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst CourseContentPage = () => {\r\n    const { courseId } = useParams();\r\n    const navigate = useNavigate();\r\n    const [course, setCourse] = useState(null);\r\n    const [enrollment, setEnrollment] = useState(null);\r\n    const [activeChapter, setActiveChapter] = useState(null);\r\n    const [activeTab, setActiveTab] = useState('video');\r\n    const [loading, setLoading] = useState(true);\r\n    const [sidebarOpen, setSidebarOpen] = useState(true);\r\n\r\n    const fetchData = useCallback(async () => {\r\n        try {\r\n            const [courseRes, enrollmentRes] = await Promise.all([\r\n                api.get(`/courses/${courseId}`),\r\n                api.get('/enrollments/my')\r\n            ]);\r\n\r\n            setCourse(courseRes.data);\r\n            const currentEnrollment = enrollmentRes.data.find(e => e.course && e.course._id === courseId);\r\n            setEnrollment(currentEnrollment);\r\n\r\n            if (courseRes.data.chapters && courseRes.data.chapters.length > 0) {\r\n                setActiveChapter(courseRes.data.chapters[0]);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching data:', error);\r\n            toast.error('Failed to load course content');\r\n            navigate('/student/dashboard');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [courseId, navigate]);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, [courseId, navigate, fetchData]);\r\n\r\n    const handleProgressUpdate = async () => {\r\n        if (!activeChapter || !courseId) return;\r\n\r\n        try {\r\n            const { data } = await api.put('/enrollments/progress', {\r\n                courseId,\r\n                chapterId: activeChapter._id\r\n            });\r\n            setEnrollment(data);\r\n            toast.success('Chapter completion recorded!');\r\n        } catch (error) {\r\n            console.error('Error updating progress:', error);\r\n        }\r\n    };\r\n\r\n    const handleClaimCertificate = async () => {\r\n        if (!enrollment || enrollment.progress < 100) return;\r\n\r\n        try {\r\n            const user = JSON.parse(localStorage.getItem('userInfo'));\r\n            const date = new Date().toLocaleDateString('en-US', { day: 'numeric', month: 'long', year: 'numeric' });\r\n            const certificateId = `CRT-${courseId.slice(-6)}-${user._id.slice(-6)}`.toUpperCase();\r\n\r\n            await generateCertificate(user.name, course.title, date, certificateId);\r\n            toast.success('Certificate generated successfully!');\r\n        } catch (error) {\r\n            toast.error('Failed to generate certificate');\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-dark\">\r\n                <div className=\"flex flex-col items-center gap-4\">\r\n                    <Loader2 className=\"w-16 h-16 text-primary animate-spin\" />\r\n                    <p className=\"text-gray-500 font-bold uppercase tracking-widest text-[10px]\">Restoring Your Session...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!course) return null;\r\n\r\n    const tabs = [\r\n        { id: 'video', label: 'Watch Lesson', icon: PlayCircle },\r\n        { id: 'material', label: 'Study Material', icon: FileText },\r\n        { id: 'quiz', label: 'Interactive Quiz', icon: HelpCircle },\r\n        { id: 'forum', label: 'Discussion Forum', icon: MessageSquare },\r\n        { id: 'resources', label: 'Extra Resources', icon: Folders },\r\n        { id: 'assignments', label: 'Assignments', icon: ClipboardList },\r\n        { id: 'ai-tutor', label: 'AI Tutor', icon: Sparkles },\r\n    ];\r\n\r\n    const topic = activeChapter?.title || '';\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-dark flex flex-col md:flex-row text-white overflow-hidden\">\r\n            <button\r\n                onClick={() => setSidebarOpen(!sidebarOpen)}\r\n                className=\"md:hidden fixed top-6 left-4 z-50 p-3 bg-primary rounded-xl shadow-2xl shadow-primary/30\"\r\n            >\r\n                {sidebarOpen ? <X size={20} /> : <Menu size={20} />}\r\n            </button>\r\n\r\n            <AnimatePresence>\r\n                {sidebarOpen && (\r\n                    <motion.div\r\n                        initial={{ x: -300 }}\r\n                        animate={{ x: 0 }}\r\n                        exit={{ x: -300 }}\r\n                        className=\"fixed md:relative inset-y-0 left-0 w-80 bg-surface border-r border-white/5 z-40 p-6 flex flex-col pt-20 md:pt-6\"\r\n                    >\r\n                        <button\r\n                            onClick={() => navigate('/student/dashboard')}\r\n                            className=\"flex items-center gap-2 text-gray-500 hover:text-white mb-8 transition-colors text-xs font-black uppercase tracking-widest group px-2\"\r\n                        >\r\n                            <ArrowLeft size={16} className=\"group-hover:-translate-x-1 transition-transform\" />\r\n                            To Dashboard\r\n                        </button>\r\n\r\n                        <div className=\"mb-8 px-2\">\r\n                            <span className=\"text-[9px] font-black text-primary uppercase tracking-[0.3em] mb-2 block\">Premium Content</span>\r\n                            <h2 className=\"text-xl font-black line-clamp-2 leading-tight tracking-tight\">{course.title}</h2>\r\n                        </div>\r\n\r\n                        <div className=\"mb-10 p-4 rounded-[1.5rem] bg-white/[0.02] border border-white/5 space-y-3\">\r\n                            <div className=\"flex justify-between text-[10px] font-black text-gray-500 uppercase tracking-widest\">\r\n                                <span>Batch Progress</span>\r\n                                <span className=\"text-white\">{enrollment?.progress || 0}%</span>\r\n                            </div>\r\n                            <div className=\"h-2 bg-white/5 rounded-full overflow-hidden\">\r\n                                <motion.div\r\n                                    initial={{ width: 0 }}\r\n                                    animate={{ width: `${enrollment?.progress || 0}%` }}\r\n                                    className=\"h-full bg-gradient-to-r from-primary to-secondary shadow-[0_0_15px_rgba(99,102,241,0.5)]\"\r\n                                />\r\n                            </div>\r\n                            {enrollment?.progress === 100 && (\r\n                                <button\r\n                                    onClick={handleClaimCertificate}\r\n                                    className=\"w-full py-3 bg-emerald-500 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-emerald-600 transition-all flex items-center justify-center gap-2\"\r\n                                >\r\n                                    <Award size={14} /> Claim Certificate\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"flex-1 overflow-y-auto custom-scrollbar space-y-2 pr-2\">\r\n                            {course.chapters?.map((chapter, index) => {\r\n                                const isCompleted = enrollment?.completedChapters?.includes(chapter._id);\r\n                                return (\r\n                                    <button\r\n                                        key={chapter._id}\r\n                                        onClick={() => {\r\n                                            setActiveChapter(chapter);\r\n                                            setActiveTab('video');\r\n                                        }}\r\n                                        className={`w-full p-4 rounded-2xl flex items-center gap-4 transition-all border group/btn ${activeChapter?._id === chapter._id\r\n                                            ? 'bg-primary/10 border-primary/30 text-white'\r\n                                            : 'bg-white/[0.02] border-white/5 text-gray-500 hover:bg-white/[0.05] hover:border-white/10 hover:text-gray-300'\r\n                                            }`}\r\n                                    >\r\n                                        <div className={`p-2 rounded-lg transition-colors ${activeChapter?._id === chapter._id ? 'bg-primary/20 text-primary' : 'bg-white/5 text-gray-600 group-hover/btn:text-gray-400'\r\n                                            }`}>\r\n                                            {chapter.videoUrl ? <PlayCircle size={18} /> : <FileText size={18} />}\r\n                                        </div>\r\n                                        <div className=\"text-left flex-1 min-w-0\">\r\n                                            <p className=\"text-[9px] font-black uppercase tracking-widest opacity-30 mb-0.5\">Lesson {index + 1}</p>\r\n                                            <p className=\"text-xs font-bold truncate leading-snug\">{chapter.title}</p>\r\n                                        </div>\r\n                                        {isCompleted && <CheckCircle size={16} className=\"text-emerald-500 flex-shrink-0\" />}\r\n                                    </button>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n\r\n            <main className=\"flex-1 flex flex-col h-screen overflow-y-auto custom-scrollbar bg-dark\">\r\n                <div className=\"max-w-6xl mx-auto w-full p-6 md:p-12 space-y-12\">\r\n                    {activeChapter ? (\r\n                        <>\r\n                            <div className=\"space-y-10\">\r\n                                <div className=\"space-y-6\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <span className=\"px-3 py-1 bg-white/5 rounded-full text-[10px] font-black uppercase tracking-widest border border-white/10 text-secondary\">\r\n                                            {course.category}\r\n                                        </span>\r\n                                        <div className=\"h-1 w-1 bg-gray-700 rounded-full\" />\r\n                                        <span className=\"text-[10px] font-black uppercase tracking-widest text-gray-500\">\r\n                                            {course.faculty?.name || 'Academic Faculty'}\r\n                                        </span>\r\n                                    </div>\r\n                                    <h1 className=\"text-5xl font-black tracking-tighter leading-[0.9] text-white underline decoration-primary/30 underline-offset-8 decoration-4\">{activeChapter.title}</h1>\r\n                                    <div className=\"flex flex-wrap items-center gap-8 pt-2\">\r\n                                        <div className=\"flex items-center gap-3\">\r\n                                            <div className=\"w-8 h-8 rounded-full bg-indigo-500/10 flex items-center justify-center text-primary border border-indigo-500/20\"><Clock size={16} /></div>\r\n                                            <div className=\"flex flex-col\">\r\n                                                <span className=\"text-[10px] font-black text-gray-500 uppercase\">Duration</span>\r\n                                                <span className=\"text-sm font-bold\">45 Minutes</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-3\">\r\n                                            <div className=\"w-8 h-8 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-500 border border-emerald-500/20\"><Target size={16} /></div>\r\n                                            <div className=\"flex flex-col\">\r\n                                                <span className=\"text-[10px] font-black text-gray-500 uppercase\">Difficulty</span>\r\n                                                <span className=\"text-sm font-bold capitalize\">{course.level || 'Professional'}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-3\">\r\n                                            <div className=\"w-8 h-8 rounded-full bg-amber-500/10 flex items-center justify-center text-amber-500 border border-amber-500/20\"><Brain size={16} /></div>\r\n                                            <div className=\"flex flex-col\">\r\n                                                <span className=\"text-[10px] font-black text-gray-500 uppercase\">Assessment</span>\r\n                                                <span className=\"text-sm font-bold\">Required</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"flex gap-2 p-2 bg-white/5 rounded-[2rem] border border-white/10 w-fit backdrop-blur-md\">\r\n                                    {tabs.map(tab => (\r\n                                        <button\r\n                                            key={tab.id}\r\n                                            onClick={() => setActiveTab(tab.id)}\r\n                                            className={`flex items-center gap-3 px-8 py-4 rounded-2xl font-black text-[11px] uppercase tracking-widest transition-all duration-500 relative ${activeTab === tab.id\r\n                                                ? 'bg-white text-black shadow-2xl scale-105'\r\n                                                : 'text-gray-500 hover:text-white'\r\n                                                }`}\r\n                                        >\r\n                                            <tab.icon size={18} />\r\n                                            {tab.label}\r\n                                            {activeTab === tab.id && (\r\n                                                <motion.div layoutId=\"tabIndicator\" className=\"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-primary rounded-full\" />\r\n                                            )}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <motion.div\r\n                                key={`${activeChapter._id}-${activeTab}`}\r\n                                initial={{ opacity: 0, scale: 0.98 }}\r\n                                animate={{ opacity: 1, scale: 1 }}\r\n                                transition={{ duration: 0.5 }}\r\n                                className=\"min-h-[600px]\"\r\n                            >\r\n                                {activeTab === 'video' && (\r\n                                    <div className=\"space-y-10\">\r\n                                        <div className=\"glass rounded-[4rem] overflow-hidden border border-white/10 shadow-[0_50px_100px_rgba(0,0,0,0.5)] aspect-video relative group bg-black\">\r\n                                            {activeChapter.videoUrl ? (\r\n                                                <video\r\n                                                    controls\r\n                                                    src={activeChapter.videoUrl}\r\n                                                    className=\"w-full h-full object-cover\"\r\n                                                />\r\n                                            ) : (\r\n                                                <div className=\"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-indigo-950 via-dark to-black overflow-hidden\">\r\n                                                    <div className=\"absolute inset-0 opacity-20 pointer-events-none\">\r\n                                                        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-primary rounded-full blur-[150px] animate-pulse\" />\r\n                                                    </div>\r\n                                                    <div className=\"w-28 h-28 rounded-[2rem] bg-white/5 border border-white/10 flex items-center justify-center mb-8 relative z-10\">\r\n                                                        <PlayCircle size={56} className=\"text-primary group-hover:scale-110 transition-transform duration-500\" />\r\n                                                    </div>\r\n                                                    <h3 className=\"text-3xl font-black text-white relative z-10 mt-4\">Encrypted Video Source</h3>\r\n                                                    <p className=\"text-gray-500 text-sm mt-3 font-bold uppercase tracking-[0.2em] relative z-10\">Initializing Multimedia Protocol...</p>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n                                            <div className=\"lg:col-span-2 p-10 glass rounded-[3rem] border border-white/5 flex gap-8\">\r\n                                                <div className=\"w-16 h-16 rounded-2xl bg-primary/10 flex items-center justify-center text-primary flex-shrink-0\">\r\n                                                    <Lightbulb size={32} />\r\n                                                </div>\r\n                                                <div className=\"space-y-4\">\r\n                                                    <h3 className=\"text-2xl font-black tracking-tight\">Executive Summary</h3>\r\n                                                    <p className=\"text-gray-400 leading-relaxed text-lg font-medium italic\">\r\n                                                        \"Explore the intricate details of {topic}. This core module focuses on scalability metrics, security protocols, and strategic implementation that are critical for modern high-performance systems.\"\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"p-10 glass rounded-[3rem] border border-white/5 flex flex-col items-center justify-center text-center space-y-4\">\r\n                                                <div className=\"w-12 h-12 rounded-full bg-secondary/10 flex items-center justify-center text-secondary border border-secondary/20\">\r\n                                                    <BookOpen size={24} />\r\n                                                </div>\r\n                                                <p className=\"text-xs font-black uppercase tracking-widest text-gray-500\">Related Path</p>\r\n                                                <h4 className=\"font-bold text-white\">Cloud Architecture</h4>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {activeTab === 'material' && (\r\n                                    <div className=\"grid grid-cols-1 lg:grid-cols-1 gap-12\">\r\n                                        <div className=\"p-12 glass rounded-[4rem] border border-white/10 relative overflow-hidden group bg-gradient-to-br from-white/[0.02] to-transparent\">\r\n                                            <div className=\"absolute top-0 right-0 p-12 opacity-5 pointer-events-none group-hover:rotate-12 transition-transform duration-1000\">\r\n                                                <FileText size={400} />\r\n                                            </div>\r\n\r\n                                            <div className=\"relative z-10 space-y-12\">\r\n                                                <div className=\"flex justify-between items-start\">\r\n                                                    <div className=\"space-y-4\">\r\n                                                        <span className=\"px-4 py-1.5 bg-primary rounded-full text-[10px] font-black uppercase tracking-[0.2em]\">Full Study Guide</span>\r\n                                                        <h2 className=\"text-5xl font-black tracking-tighter\">Topic: {topic}</h2>\r\n                                                        <p className=\"text-gray-500 font-bold uppercase tracking-widest text-xs flex items-center gap-2\">\r\n                                                            <Sparkles size={14} className=\"text-amber-400\" /> Curated for {course.category} Certification\r\n                                                        </p>\r\n                                                    </div>\r\n                                                    <div className=\"hidden md:flex flex-col items-end gap-2\">\r\n                                                        <div\r\n                                                            onClick={() => activeChapter.pdfUrl && window.open(activeChapter.pdfUrl, '_blank')}\r\n                                                            className=\"p-5 bg-white/5 rounded-3xl border border-white/10 shadow-2xl group/download cursor-pointer\"\r\n                                                        >\r\n                                                            <Download size={32} className=\"text-white group-hover:text-primary transition-colors\" />\r\n                                                        </div>\r\n                                                        <span className=\"text-[10px] font-black text-gray-600 uppercase\">2.4 MB (PDF)</span>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-10\">\r\n                                                    <div className=\"space-y-8\">\r\n                                                        <div className=\"p-8 bg-white/5 rounded-[2.5rem] border border-white/5 space-y-4 hover:border-primary/30 transition-colors\">\r\n                                                            <h4 className=\"text-lg font-black text-white flex items-center gap-3\">\r\n                                                                <div className=\"w-1.5 h-6 bg-primary rounded-full\" />\r\n                                                                Core Learning Verticals\r\n                                                            </h4>\r\n                                                            <ul className=\"space-y-4\">\r\n                                                                {[\r\n                                                                    `Comprehensive analysis of ${topic} fundamentals.`,\r\n                                                                    `Architectural integration within the ${course.category} ecosystem.`,\r\n                                                                    `Performance benchmarking and efficiency metrics.`,\r\n                                                                    `Enterprise-level security implementation and best practices.`\r\n                                                                ].map((item, i) => (\r\n                                                                    <li key={i} className=\"flex gap-4 group/li\">\r\n                                                                        <div className=\"w-6 h-6 rounded-full bg-white/5 flex items-center justify-center text-[10px] font-black group-hover/li:bg-primary transition-colors\">{i + 1}</div>\r\n                                                                        <p className=\"text-sm font-medium text-gray-400 leading-relaxed group-hover/li:text-gray-200 transition-colors\">{item}</p>\r\n                                                                    </li>\r\n                                                                ))}\r\n                                                            </ul>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div className=\"space-y-8\">\r\n                                                        <div className=\"p-10 bg-indigo-500/5 rounded-[2.5rem] border border-indigo-500/10 space-y-6\">\r\n                                                            <h4 className=\"text-sm font-black text-primary uppercase tracking-[0.2em] flex items-center gap-2\">\r\n                                                                <Brain size={20} /> Researcher Notes\r\n                                                            </h4>\r\n                                                            <p className=\"text-gray-400 leading-relaxed font-bold italic text-sm\">\r\n                                                                \"This module marks a significant transition in your learning path. Ensure you have mastered the previous concepts of {course.category} before attempting the advanced practicals associated with {topic}.\"\r\n                                                            </p>\r\n                                                            <div className=\"h-px bg-white/5\" />\r\n                                                            <div className=\"grid grid-cols-3 gap-2\">\r\n                                                                {[\r\n                                                                    { l: 'Difficulty', v: 'High' },\r\n                                                                    { l: 'Importance', v: 'Critical' },\r\n                                                                    { l: 'Exam Weight', v: '25%' }\r\n                                                                ].map(s => (\r\n                                                                    <div key={s.l} className=\"flex flex-col text-center\">\r\n                                                                        <span className=\"text-[8px] font-black text-gray-600 uppercase mb-1\">{s.l}</span>\r\n                                                                        <span className=\"text-xs font-black text-white\">{s.v}</span>\r\n                                                                    </div>\r\n                                                                ))}\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"flex gap-4\">\r\n                                                            <button\r\n                                                                onClick={() => activeChapter.pdfUrl && window.open(activeChapter.pdfUrl, '_blank')}\r\n                                                                className=\"flex-1 py-5 bg-white text-black rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-opacity-90 transition-all flex items-center justify-center gap-2\"\r\n                                                            >\r\n                                                                <Eye size={18} /> Review Material\r\n                                                            </button>\r\n                                                            <button\r\n                                                                onClick={handleProgressUpdate}\r\n                                                                className=\"px-8 py-5 bg-indigo-500/10 text-primary border border-indigo-500/20 rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-indigo-500/20 transition-all\"\r\n                                                            >\r\n                                                                Mark Reference\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {activeTab === 'quiz' && (\r\n                                    <QuizComponent\r\n                                        topic={activeChapter.title}\r\n                                        category={course.category}\r\n                                        topicQuestions={activeChapter.quiz}\r\n                                        onComplete={handleProgressUpdate}\r\n                                    />\r\n                                )}\r\n\r\n                                {activeTab === 'forum' && (\r\n                                    <ForumSection courseId={courseId} />\r\n                                )}\r\n\r\n                                {activeTab === 'resources' && (\r\n                                    <ResourceSection resources={course.resources} />\r\n                                )}\r\n\r\n                                {activeTab === 'assignments' && (\r\n                                    <AssignmentSection courseId={courseId} />\r\n                                )}\r\n\r\n                                {activeTab === 'ai-tutor' && (\r\n                                    <AITutor courseTitle={course.title} />\r\n                                )}\r\n                            </motion.div>\r\n                        </>\r\n                    ) : (\r\n                        <div className=\"h-full flex flex-col items-center justify-center py-40 border-2 border-dashed border-white/5 rounded-[4rem]\">\r\n                            <div className=\"w-32 h-32 rounded-full bg-white/5 flex items-center justify-center mb-10 animate-floating\">\r\n                                <BookOpen size={48} className=\"text-gray-700\" />\r\n                            </div>\r\n                            <h2 className=\"text-3xl font-black text-white\">Archive Ready</h2>\r\n                            <p className=\"text-gray-500 font-bold uppercase tracking-widest text-[10px] mt-2\">Select a lesson to begin synchronization</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CourseContentPage;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\student\\FeePaymentPage.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'user' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]|motion|React/u.","line":12,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":17,"suggestions":[{"messageId":"removeVar","data":{"varName":"user"},"fix":{"range":[498,525],"text":""},"desc":"Remove unused variable 'user'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { CreditCard, CheckCircle, ArrowLeft, Loader2, QrCode, Lock } from 'lucide-react';\r\nimport api from '../../utils/api';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst FeePaymentPage = () => {\r\n    const { feeId } = useParams();\r\n    const navigate = useNavigate();\r\n    const { user } = useAuth();\r\n    const [fee, setFee] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [paymentStage, setPaymentStage] = useState('initial'); // initial, redirecting, processing, success\r\n    const [paymentMethod, setPaymentMethod] = useState('card');\r\n\r\n    // Card State\r\n    const [cardData, setCardData] = useState({\r\n        number: '',\r\n        expiry: '',\r\n        cvv: '',\r\n        name: ''\r\n    });\r\n\r\n    const [errors, setErrors] = useState({});\r\n\r\n    useEffect(() => {\r\n        const fetchFee = async () => {\r\n            try {\r\n                const { data } = await api.get(`/fees/${feeId}`);\r\n                setFee(data);\r\n            } catch (error) {\r\n                console.error('Error fetching fee:', error);\r\n                toast.error('Failed to load fee details');\r\n                navigate('/student/fees');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        if (feeId) {\r\n            fetchFee();\r\n        }\r\n    }, [feeId, navigate]);\r\n\r\n    const formatCardNumber = (value) => {\r\n        const v = value.replace(/\\s+/g, '').replace(/[^0-9]/gi, '');\r\n        const matches = v.match(/\\d{4,16}/g);\r\n        const match = matches && matches[0] || '';\r\n        const parts = [];\r\n\r\n        for (let i = 0, len = match.length; i < len; i += 4) {\r\n            parts.push(match.substring(i, i + 4));\r\n        }\r\n\r\n        if (parts.length) {\r\n            return parts.join(' ');\r\n        } else {\r\n            return v;\r\n        }\r\n    };\r\n\r\n    const formatExpiry = (value) => {\r\n        const v = value.replace(/\\s+/g, '').replace(/[^0-9]/gi, '');\r\n        if (v.length >= 2) {\r\n            return `${v.substring(0, 2)}/${v.substring(2, 4)}`;\r\n        }\r\n        return v;\r\n    };\r\n\r\n    const handleCardChange = (e) => {\r\n        const { name, value } = e.target;\r\n        let formattedValue = value;\r\n\r\n        if (name === 'number') formattedValue = formatCardNumber(value).substring(0, 19);\r\n        if (name === 'expiry') formattedValue = formatExpiry(value).substring(0, 5);\r\n        if (name === 'cvv') formattedValue = value.replace(/[^0-9]/gi, '').substring(0, 3);\r\n        if (name === 'name') formattedValue = value.replace(/[^a-zA-Z\\s]/gi, '');\r\n\r\n        setCardData(prev => ({ ...prev, [name]: formattedValue }));\r\n        if (errors[name]) setErrors(prev => ({ ...prev, [name]: null }));\r\n    };\r\n\r\n    const validateForm = () => {\r\n        const newErrors = {};\r\n        if (paymentMethod === 'card') {\r\n            if (cardData.number.replace(/\\s/g, '').length !== 16) newErrors.number = 'Invalid card number';\r\n            if (!/^\\d{2}\\/\\d{2}$/.test(cardData.expiry)) newErrors.expiry = 'Invalid expiry';\r\n            if (cardData.cvv.length !== 3) newErrors.cvv = 'Invalid CVV';\r\n            if (cardData.name.length < 3) newErrors.name = 'Invalid name';\r\n        }\r\n\r\n        setErrors(newErrors);\r\n        return Object.keys(newErrors).length === 0;\r\n    };\r\n\r\n    const handlePayment = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!validateForm()) {\r\n            toast.error('Please fix the errors in the form');\r\n            return;\r\n        }\r\n\r\n        setPaymentStage('redirecting');\r\n\r\n        // Stage 1: Redirecting\r\n        setTimeout(async () => {\r\n            setPaymentStage('processing');\r\n\r\n            // Stage 2: Processing\r\n            try {\r\n                // Simulate payment processing delay\r\n                await new Promise(resolve => setTimeout(resolve, 2000));\r\n\r\n                await api.put(`/fees/${feeId}`, {\r\n                    status: 'Paid',\r\n                    transactionId: `STU-PAY-${Date.now()}`\r\n                });\r\n\r\n                setPaymentStage('success');\r\n\r\n                // Stage 3: Success\r\n                setTimeout(() => {\r\n                    toast.success('Fee paid successfully!');\r\n                    navigate('/student/fees');\r\n                }, 3000);\r\n\r\n            } catch (error) {\r\n                console.error(error);\r\n                toast.error(error.response?.data?.message || 'Payment failed. Please try again.');\r\n                setPaymentStage('initial');\r\n            }\r\n        }, 2000);\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-dark\">\r\n                <Loader2 className=\"w-12 h-12 text-indigo-500 animate-spin\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!fee) return null;\r\n\r\n    return (\r\n        <div className=\"min-h-screen pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-dark text-white font-sans relative overflow-hidden\">\r\n            <div className=\"max-w-4xl mx-auto relative z-10\">\r\n                <button\r\n                    onClick={() => navigate(-1)}\r\n                    className=\"flex items-center gap-2 text-gray-400 hover:text-white mb-8 transition-colors group\"\r\n                >\r\n                    <ArrowLeft size={20} className=\"group-hover:-translate-x-1 transition-transform\" />\r\n                    Back to Fees\r\n                </button>\r\n\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\r\n                    {/* Fee Summary */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0, x: -20 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        className=\"space-y-6\"\r\n                    >\r\n                        <div className=\"glass p-8 rounded-[2rem] border border-white/10 bg-white/[0.02]\">\r\n                            <h2 className=\"text-3xl font-black mb-6\">Fee Summary</h2>\r\n                            <div className=\"space-y-4\">\r\n                                <div className=\"flex justify-between items-center py-3 border-b border-white/5\">\r\n                                    <span className=\"text-slate-400\">Description</span>\r\n                                    <span className=\"font-bold text-white uppercase tracking-wider\">{fee.type} Fee</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between items-center py-3 border-b border-white/5\">\r\n                                    <span className=\"text-slate-400\">Semester</span>\r\n                                    <span className=\"font-bold text-white\">{fee.semester}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between items-center py-3 border-b border-white/5\">\r\n                                    <span className=\"text-slate-400\">Due Date</span>\r\n                                    <span className=\"font-bold text-white\">{new Date(fee.dueDate).toLocaleDateString()}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between items-center pt-6\">\r\n                                    <span className=\"text-lg font-bold\">Total Amount</span>\r\n                                    <span className=\"text-3xl font-black text-indigo-400\">{fee.amount.toLocaleString()}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"glass p-6 rounded-2xl border border-white/5 bg-indigo-500/5 flex items-start gap-4\">\r\n                            <Lock className=\"text-indigo-500 shrink-0 mt-1\" size={20} />\r\n                            <div>\r\n                                <h4 className=\"font-bold text-sm\">Secure Payment</h4>\r\n                                <p className=\"text-xs text-slate-400 leading-relaxed mt-1\">\r\n                                    Your transaction is protected by industry-standard encryption. We do not store your full card details.\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </motion.div>\r\n\r\n                    {/* Checkout Form */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        className=\"glass p-8 rounded-[2.5rem] border border-white/10 shadow-2xl space-y-6\"\r\n                    >\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                            <h2 className=\"text-xl font-bold\">Checkout</h2>\r\n                            <div className=\"flex gap-2\">\r\n                                <button\r\n                                    onClick={() => setPaymentMethod('card')}\r\n                                    className={`p-2 rounded-lg transition-colors ${paymentMethod === 'card' ? 'bg-indigo-500/20 text-indigo-400 border border-indigo-500/30' : 'bg-white/5 text-gray-500 hover:text-white'}`}\r\n                                >\r\n                                    <CreditCard size={18} />\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setPaymentMethod('upi')}\r\n                                    className={`p-2 rounded-lg transition-colors ${paymentMethod === 'upi' ? 'bg-indigo-500/20 text-indigo-400 border border-indigo-500/30' : 'bg-white/5 text-gray-500 hover:text-white'}`}\r\n                                >\r\n                                    <QrCode size={18} />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <form onSubmit={handlePayment} className=\"space-y-4\">\r\n                            {paymentMethod === 'card' ? (\r\n                                <div className=\"space-y-4\">\r\n                                    <div className=\"space-y-1\">\r\n                                        <label className=\"text-xs font-bold text-gray-500 px-1 uppercase tracking-wider\">Card Number</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            name=\"number\"\r\n                                            required\r\n                                            value={cardData.number}\r\n                                            onChange={handleCardChange}\r\n                                            className={`w-full px-4 py-3 bg-white/5 border ${errors.number ? 'border-red-500' : 'border-white/10'} rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all`}\r\n                                            placeholder=\"0000 0000 0000 0000\"\r\n                                        />\r\n                                        {errors.number && <p className=\"text-xs text-red-500 px-1\">{errors.number}</p>}\r\n                                    </div>\r\n                                    <div className=\"space-y-1\">\r\n                                        <label className=\"text-xs font-bold text-gray-500 px-1 uppercase tracking-wider\">Name on Card</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            name=\"name\"\r\n                                            required\r\n                                            value={cardData.name}\r\n                                            onChange={handleCardChange}\r\n                                            className={`w-full px-4 py-3 bg-white/5 border ${errors.name ? 'border-red-500' : 'border-white/10'} rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all`}\r\n                                            placeholder=\"John Doe\"\r\n                                        />\r\n                                        {errors.name && <p className=\"text-xs text-red-500 px-1\">{errors.name}</p>}\r\n                                    </div>\r\n                                    <div className=\"grid grid-cols-2 gap-4\">\r\n                                        <div className=\"space-y-1\">\r\n                                            <label className=\"text-xs font-bold text-gray-500 px-1 uppercase tracking-wider\">Expiry</label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                name=\"expiry\"\r\n                                                required\r\n                                                value={cardData.expiry}\r\n                                                onChange={handleCardChange}\r\n                                                className={`w-full px-4 py-3 bg-white/5 border ${errors.expiry ? 'border-red-500' : 'border-white/10'} rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all`}\r\n                                                placeholder=\"MM/YY\"\r\n                                            />\r\n                                            {errors.expiry && <p className=\"text-xs text-red-500 px-1\">{errors.expiry}</p>}\r\n                                        </div>\r\n                                        <div className=\"space-y-1\">\r\n                                            <label className=\"text-xs font-bold text-gray-500 px-1 uppercase tracking-wider\">CVV</label>\r\n                                            <input\r\n                                                type=\"password\"\r\n                                                name=\"cvv\"\r\n                                                required\r\n                                                value={cardData.cvv}\r\n                                                onChange={handleCardChange}\r\n                                                className={`w-full px-4 py-3 bg-white/5 border ${errors.cvv ? 'border-red-500' : 'border-white/10'} rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all`}\r\n                                                placeholder=\"***\"\r\n                                            />\r\n                                            {errors.cvv && <p className=\"text-xs text-red-500 px-1\">{errors.cvv}</p>}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"flex flex-col items-center gap-4 py-4\">\r\n                                    <div className=\"bg-white p-4 rounded-2xl w-48 h-48 flex items-center justify-center\">\r\n                                        <QrCode size={160} className=\"text-black\" />\r\n                                    </div>\r\n                                    <p className=\"text-xs text-slate-400 text-center px-6\">\r\n                                        Scan this QR with any UPI app and click the complete button below once paid.\r\n                                    </p>\r\n                                </div>\r\n                            )}\r\n\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"w-full py-4 mt-6 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl font-black text-sm transition-all shadow-lg shadow-indigo-600/20 active:scale-[0.98]\"\r\n                            >\r\n                                {paymentMethod === 'card' ? `Pay ${fee.amount.toLocaleString()}` : 'Complete Payment'}\r\n                            </button>\r\n                        </form>\r\n                    </motion.div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Animation Overlays */}\r\n            <AnimatePresence>\r\n                {paymentStage !== 'initial' && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-dark/95 backdrop-blur-xl\"\r\n                    >\r\n                        <motion.div\r\n                            initial={{ scale: 0.9, y: 20 }}\r\n                            animate={{ scale: 1, y: 0 }}\r\n                            className=\"text-center space-y-8 max-w-md w-full\"\r\n                        >\r\n                            {paymentStage === 'redirecting' && (\r\n                                <div className=\"space-y-6\">\r\n                                    <div className=\"relative w-24 h-24 mx-auto\">\r\n                                        <motion.div\r\n                                            animate={{ scale: [1, 1.2, 1] }}\r\n                                            transition={{ repeat: Infinity, duration: 2 }}\r\n                                            className=\"w-full h-full bg-indigo-500/20 rounded-full flex items-center justify-center border border-indigo-500/30\"\r\n                                        >\r\n                                            <Lock size={48} className=\"text-indigo-400\" />\r\n                                        </motion.div>\r\n                                        <motion.div\r\n                                            animate={{ rotate: 360 }}\r\n                                            transition={{ repeat: Infinity, duration: 3, ease: \"linear\" }}\r\n                                            className=\"absolute inset-0 border-t-2 border-indigo-500 rounded-full\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        <h3 className=\"text-3xl font-black\">Redirecting</h3>\r\n                                        <p className=\"text-slate-400\">Connecting to secure gateway...</p>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {paymentStage === 'processing' && (\r\n                                <div className=\"space-y-6\">\r\n                                    <div className=\"w-24 h-24 mx-auto relative\">\r\n                                        <motion.div\r\n                                            animate={{\r\n                                                rotate: 360,\r\n                                                borderRadius: [\"20%\", \"50%\", \"20%\"]\r\n                                            }}\r\n                                            transition={{ repeat: Infinity, duration: 2 }}\r\n                                            className=\"w-full h-full border-4 border-dashed border-indigo-400 flex items-center justify-center\"\r\n                                        >\r\n                                            <CreditCard size={40} className=\"text-indigo-400\" />\r\n                                        </motion.div>\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        <h3 className=\"text-3xl font-black\">Processing</h3>\r\n                                        <p className=\"text-slate-400\">Validating payment details...</p>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {paymentStage === 'success' && (\r\n                                <motion.div\r\n                                    initial={{ opacity: 0, scale: 0.5 }}\r\n                                    animate={{ opacity: 1, scale: 1 }}\r\n                                    className=\"space-y-6\"\r\n                                >\r\n                                    <div className=\"w-32 h-32 bg-emerald-500 rounded-full flex items-center justify-center mx-auto shadow-[0_0_50px_rgba(16,185,129,0.5)]\">\r\n                                        <CheckCircle size={64} className=\"text-white\" />\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        <h3 className=\"text-4xl font-black text-emerald-400\">Success!</h3>\r\n                                        <p className=\"text-slate-400\">Your fee payment has been verified.</p>\r\n                                    </div>\r\n                                </motion.div>\r\n                            )}\r\n                        </motion.div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FeePaymentPage;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\student\\StudentAttendance.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'_' is defined but never used.","line":14,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":23},{"ruleId":"no-undef","severity":2,"message":"'error' is not defined.","line":15,"column":31,"nodeType":"Identifier","messageId":"undef","endLine":15,"endColumn":36}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\r\nimport api from '../../utils/api';\r\nimport { Calendar, Check, X, Filter } from 'lucide-react';\r\n\r\nconst StudentAttendance = () => {\r\n    const [attendance, setAttendance] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchAttendance = async () => {\r\n            try {\r\n                const { data } = await api.get('/student/attendance');\r\n                setAttendance(data);\r\n            } catch (_) {\r\n                console.error(error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchAttendance();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"space-y-10 pb-10\">\r\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\r\n                <div>\r\n                    <h1 className=\"text-4xl font-black text-white tracking-tight leading-tight\">Attendance Ledger</h1>\r\n                    <p className=\"text-gray-500 font-bold uppercase tracking-widest text-[10px] mt-2\">Verified records of your academic presence and participation</p>\r\n                </div>\r\n                <div className=\"flex gap-4 p-1.5 bg-white/5 rounded-2xl border border-white/5\">\r\n                    <button className=\"flex items-center gap-3 px-6 py-2.5 bg-white/5 border border-white/10 rounded-xl text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-white hover:bg-white/10 transition-all\">\r\n                        <Filter size={14} /> Filter Dataset\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"glass rounded-[2.5rem] border border-white/5 overflow-hidden shadow-2xl\">\r\n                <div className=\"p-8 border-b border-white/5 flex justify-between items-center bg-white/[0.02]\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-10 h-10 rounded-xl bg-primary/20 flex items-center justify-center text-primary border border-primary/20\">\r\n                            <Calendar size={20} />\r\n                        </div>\r\n                        <h3 className=\"font-black text-white uppercase tracking-widest text-xs\">Chronological History</h3>\r\n                    </div>\r\n                    <span className=\"text-[10px] font-black text-emerald-400 uppercase tracking-widest px-3 py-1 bg-emerald-500/10 rounded-full border border-emerald-500/20\">Sync Complete</span>\r\n                </div>\r\n\r\n                <div className=\"overflow-x-auto custom-scrollbar\">\r\n                    <table className=\"w-full text-left border-collapse\">\r\n                        <thead className=\"bg-white/5 text-gray-500 text-[10px] uppercase font-black tracking-[0.2em]\">\r\n                            <tr>\r\n                                <th className=\"px-10 py-6\">Date Stamp</th>\r\n                                <th className=\"px-10 py-6\">Weekday</th>\r\n                                <th className=\"px-10 py-6\">Subject Module</th>\r\n                                <th className=\"px-10 py-6 text-center\">Involvement Status</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-white/5\">\r\n                            {loading ? (\r\n                                <tr>\r\n                                    <td colSpan=\"4\" className=\"text-center py-20\">\r\n                                        <div className=\"flex flex-col items-center gap-4\">\r\n                                            <div className=\"w-10 h-10 border-4 border-primary/20 border-t-primary rounded-full animate-spin\" />\r\n                                            <p className=\"text-[10px] font-black text-gray-600 uppercase tracking-widest animate-pulse\">Retrieving Ledger...</p>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            ) : attendance.length === 0 ? (\r\n                                <tr>\r\n                                    <td colSpan=\"4\" className=\"text-center py-20\">\r\n                                        <div className=\"flex flex-col items-center gap-4 opacity-30\">\r\n                                            <Calendar size={40} className=\"text-gray-500\" />\r\n                                            <p className=\"text-[10px] font-black text-gray-500 uppercase tracking-widest\">No Records Found on Surface</p>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            ) : (\r\n                                attendance.map((record, index) => (\r\n                                    <tr key={index} className=\"hover:bg-white/[0.03] transition-all group cursor-default\">\r\n                                        <td className=\"px-10 py-8 text-white font-bold tracking-tight\">\r\n                                            {new Date(record.date).toLocaleDateString('en-US', { day: '2-digit', month: 'short', year: 'numeric' })}\r\n                                        </td>\r\n                                        <td className=\"px-10 py-8 text-gray-400 font-semibold text-sm uppercase tracking-wider\">{record.day}</td>\r\n                                        <td className=\"px-10 py-8\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className=\"w-1.5 h-1.5 rounded-full bg-primary/40 group-hover:bg-primary transition-colors\" />\r\n                                                <span className=\"text-gray-300 font-bold group-hover:text-white transition-colors\">{record.subject}</span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-10 py-8\">\r\n                                            <div className=\"flex justify-center\">\r\n                                                <span className={`inline-flex items-center gap-2 px-4 py-2 rounded-xl text-[9px] font-black tracking-widest uppercase border transition-all ${record.status === 'Present'\r\n                                                    ? 'bg-emerald-500/10 text-emerald-400 border-emerald-500/20 shadow-[0_0_15px_rgba(16,185,129,0.1)] group-hover:bg-emerald-500/20'\r\n                                                    : 'bg-red-500/10 text-red-400 border-red-500/20 shadow-[0_0_15px_rgba(239,68,68,0.1)] group-hover:bg-red-500/20'\r\n                                                    }`}>\r\n                                                    {record.status === 'Present' ? <Check size={14} className=\"stroke-[3]\" /> : <X size={14} className=\"stroke-[3]\" />}\r\n                                                    {record.status}\r\n                                                </span>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StudentAttendance;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\student\\StudentDashboard.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'_' is defined but never used.","line":49,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":49,"endColumn":19},{"ruleId":"no-undef","severity":2,"message":"'err' is not defined.","line":50,"column":54,"nodeType":"Identifier","messageId":"undef","endLine":50,"endColumn":57}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState, useCallback } from 'react';\r\nimport { useSocket } from '../../hooks/useSocket';\r\nimport api from '../../utils/api';\r\nimport {\r\n    Calendar, Clock, BookOpen, ChevronRight, Bell, Activity, Award, PlayCircle, Star, ShoppingBag, CheckCircle, TrendingUp, AlertCircle, GraduationCap\r\n} from 'lucide-react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n    AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, BarChart, Bar\r\n} from 'recharts';\r\n\r\nconst StudentDashboard = () => {\r\n    const navigate = useNavigate();\r\n    const socket = useSocket();\r\n    const [dashboardData, setDashboardData] = useState(null);\r\n    const [availableCourses, setAvailableCourses] = useState([]);\r\n    const [error, setError] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // DEBUG LOGGING\r\n    console.log('StudentDashboard Render:', { loading, error, dashboardData, availableCourses });\r\n\r\n    const fetchDashboard = useCallback(async () => {\r\n        try {\r\n            console.log('Fetching Dashboard Data...');\r\n            setLoading(true);\r\n            const { data } = await api.get('/student/dashboard');\r\n            console.log('Dashboard Data Received:', data);\r\n            setDashboardData(data);\r\n            setError(null);\r\n        } catch (err) {\r\n            console.error('Failed to fetch dashboard data', err);\r\n            setError('Failed to load dashboard data. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const fetchCourses = useCallback(async () => {\r\n        try {\r\n            console.log('Fetching Courses...');\r\n            const { data } = await api.get('/courses');\r\n            console.log('Courses Received:', data);\r\n            // Filter out already enrolled\r\n            const enrolledIds = dashboardData?.enrollments?.map(e => e.course._id) || [];\r\n            const filtered = data.filter(c => !enrolledIds.includes(c._id));\r\n            setAvailableCourses(filtered.slice(0, 4));\r\n        } catch (_) {\r\n            console.error('Failed to fetch courses', err);\r\n            // Don't block dashboard if courses fail\r\n        }\r\n    }, [dashboardData]);\r\n\r\n    useEffect(() => {\r\n        fetchDashboard();\r\n    }, [fetchDashboard]);\r\n\r\n    useEffect(() => {\r\n        if (dashboardData) {\r\n            fetchCourses();\r\n        }\r\n    }, [dashboardData, fetchCourses]);\r\n\r\n    useEffect(() => {\r\n        if (socket) {\r\n            socket.on('notice:new', (newNotice) => {\r\n                console.log('Socket notice:new:', newNotice);\r\n                setDashboardData(prev => {\r\n                    if (!prev) return prev;\r\n                    return {\r\n                        ...prev,\r\n                        notices: [newNotice, ...prev.notices].slice(0, 5) // Keep top 5\r\n                    };\r\n                });\r\n            });\r\n        }\r\n        return () => {\r\n            if (socket) {\r\n                socket.off('notice:new');\r\n            }\r\n        };\r\n    }, [socket]);\r\n\r\n    // Mock chart data for attendance graph\r\n    const attendanceData = [\r\n        { name: 'Mon', present: 1 },\r\n        { name: 'Tue', present: 1 },\r\n        { name: 'Wed', present: 0.8 },\r\n        { name: 'Thu', present: 1 },\r\n        { name: 'Fri', present: 0.9 },\r\n    ];\r\n\r\n    if (loading) return (\r\n        <div className=\"flex flex-col items-center justify-center min-h-[60vh] gap-4\">\r\n            <div className=\"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin\" />\r\n            <p className=\"text-gray-500 font-medium animate-pulse uppercase tracking-widest text-xs\">Authenticating Academic Data...</p>\r\n        </div>\r\n    );\r\n\r\n    if (error) return (\r\n        <div className=\"flex flex-col items-center justify-center min-h-[60vh] gap-6\">\r\n            <div className=\"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center text-red-500 mb-4 animate-pulse\">\r\n                <AlertCircle size={40} />\r\n            </div>\r\n            <h2 className=\"text-2xl font-black text-white\">Connection Interrupted</h2>\r\n            <p className=\"text-gray-500 max-w-md text-center\">{error}</p>\r\n            <button\r\n                onClick={fetchDashboard}\r\n                className=\"px-8 py-3 bg-primary text-white rounded-xl font-bold hover:bg-primary/80 transition-all active:scale-95\"\r\n            >\r\n                Retry Connection\r\n            </button>\r\n        </div>\r\n    );\r\n\r\n    const stats = [\r\n        { title: 'Attendance', value: `${dashboardData?.stats?.attendancePercentage || 0}%`, icon: CheckCircle, color: 'text-emerald-400', bg: 'bg-emerald-500/10', footer: 'Total Lectures: 120' },\r\n        { title: 'Enrolled Courses', value: dashboardData?.stats?.enrolledCount || 0, icon: BookOpen, color: 'text-blue-400', bg: 'bg-blue-500/10', footer: '2 New Assignments' },\r\n        { title: 'Pending Notices', value: dashboardData?.notices?.length || 0, icon: AlertCircle, color: 'text-orange-400', bg: 'bg-orange-500/10', footer: 'Priority: High' },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"space-y-10 pb-10\">\r\n            {/* Welcome Banner */}\r\n            <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"bg-gradient-to-br from-indigo-600 via-indigo-700 to-purple-900 rounded-[2.5rem] p-12 text-white shadow-[0_20px_50px_rgba(79,70,229,0.3)] relative overflow-hidden border border-white/10 group\"\r\n            >\r\n                <div className=\"relative z-10 max-w-2xl\">\r\n                    <motion.span\r\n                        initial={{ opacity: 0, x: -20 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        transition={{ delay: 0.2 }}\r\n                        className=\"px-4 py-1.5 bg-white/20 backdrop-blur-md rounded-full text-[10px] font-black uppercase tracking-[0.2em] mb-6 inline-block\"\r\n                    >\r\n                        Academic Overview\r\n                    </motion.span>\r\n                    <h1 className=\"text-5xl font-black mb-4 tracking-tight leading-tight\">\r\n                        Welcome Back,<br />\r\n                        <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-white to-white/50\">{dashboardData?.profile?.name || 'Scholar'}! </span>\r\n                    </h1>\r\n                    <p className=\"text-indigo-100/80 text-lg font-medium leading-relaxed mb-10\">\r\n                        Your academic performance is <span className=\"text-white font-bold italic underline underline-offset-4 decoration-white/30\">Exemplary</span> this week. You have <span className=\"text-white font-bold\">{dashboardData?.exams?.length || 0} exams</span> scheduled soon.\r\n                    </p>\r\n                    <div className=\"flex flex-wrap gap-4\">\r\n                        <button\r\n                            onClick={() => navigate('/student/timetable')}\r\n                            className=\"px-8 py-4 bg-white text-indigo-700 rounded-2xl font-black hover:bg-gray-100 transition-all active:scale-95 shadow-xl shadow-black/20 flex items-center gap-2 group/btn\">\r\n                            View Study Plan\r\n                            <TrendingUp size={18} className=\"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform\" />\r\n                        </button>\r\n                        <button\r\n                            onClick={() => navigate('/student/exams')}\r\n                            className=\"px-8 py-4 bg-white/10 backdrop-blur-md text-white border border-white/20 rounded-2xl font-black hover:bg-white/20 transition-all active:scale-95\">\r\n                            Exam Center\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                {/* Visual Decor */}\r\n                <div className=\"absolute top-0 right-0 w-[500px] h-[500px] bg-white/[0.05] rounded-full -mr-40 -mt-40 blur-[80px] group-hover:scale-110 transition-transform duration-700\"></div>\r\n                <div className=\"absolute bottom-0 right-10 opacity-10 scale-150 rotate-12 group-hover:rotate-0 transition-transform duration-1000\">\r\n                    <GraduationCap size={400} />\r\n                </div>\r\n            </motion.div>\r\n\r\n            {/* Stats Grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                {stats.map((stat, i) => (\r\n                    <motion.div\r\n                        key={i}\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        whileInView={{ opacity: 1, y: 0 }}\r\n                        transition={{ delay: i * 0.1 }}\r\n                        className=\"glass rounded-[2rem] p-8 border border-white/5 hover:border-primary/20 transition-all duration-500 group relative overflow-hidden\"\r\n                    >\r\n                        <div className=\"relative z-10\">\r\n                            <div className=\"flex justify-between items-start mb-8\">\r\n                                <div className={`p-4 rounded-2xl ${stat.bg} ${stat.color} shadow-lg transition-transform duration-500 group-hover:scale-110 group-hover:rotate-3`}>\r\n                                    <stat.icon size={24} />\r\n                                </div>\r\n                                <div className=\"text-right\">\r\n                                    <span className=\"text-4xl font-black text-white tracking-tighter block\">{stat.value}</span>\r\n                                    <span className=\"text-[10px] text-gray-500 font-bold uppercase tracking-widest mt-1\">{stat.title}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex items-center justify-between pt-4 border-t border-white/5\">\r\n                                <p className=\"text-[10px] text-gray-400 font-bold uppercase tracking-widest\">{stat.footer}</p>\r\n                                <ChevronRight size={14} className=\"text-gray-600 group-hover:text-primary transition-colors\" />\r\n                            </div>\r\n                        </div>\r\n                        {/* Hover Gradient */}\r\n                        <div className=\"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                    </motion.div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* My Learning Section */}\r\n            {dashboardData?.enrollments?.length > 0 && (\r\n                <section className=\"space-y-8\">\r\n                    <div className=\"flex justify-between items-end\">\r\n                        <div>\r\n                            <span className=\"text-[10px] font-black text-primary uppercase tracking-[0.2em] mb-2 block\">Resume Learning</span>\r\n                            <h3 className=\"text-3xl font-black text-white tracking-tight\">Your Enrolled Courses</h3>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                        {dashboardData.enrollments.map((enrollment, i) => (\r\n                            <motion.div\r\n                                key={enrollment._id}\r\n                                initial={{ opacity: 0, scale: 0.95 }}\r\n                                whileInView={{ opacity: 1, scale: 1 }}\r\n                                transition={{ delay: i * 0.1 }}\r\n                                onClick={() => navigate(`/student/course/${enrollment.course._id}`)}\r\n                                className=\"glass rounded-[2rem] p-6 border border-white/5 hover:border-primary/30 transition-all group cursor-pointer relative overflow-hidden\"\r\n                            >\r\n                                <div className=\"flex gap-5\">\r\n                                    <div className=\"w-20 h-20 rounded-2xl overflow-hidden flex-shrink-0 border border-white/10\">\r\n                                        <img\r\n                                            src={enrollment.course.thumbnail}\r\n                                            alt={enrollment.course.title}\r\n                                            className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"flex-1 space-y-2\">\r\n                                        <h4 className=\"text-white font-bold text-sm line-clamp-1\">{enrollment.course.title}</h4>\r\n                                        <div className=\"flex items-center gap-2 text-[10px] text-gray-500 font-bold uppercase tracking-widest\">\r\n                                            <div className=\"w-1 h-1 rounded-full bg-primary\"></div>\r\n                                            <span>Progress: {enrollment.progress || 0}%</span>\r\n                                        </div>\r\n                                        <div className=\"h-1 bg-white/5 rounded-full mt-2 overflow-hidden\">\r\n                                            <div\r\n                                                className=\"h-full bg-primary\"\r\n                                                style={{ width: `${enrollment.progress || 0}%` }}\r\n                                            ></div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"self-center p-3 rounded-full bg-white/5 text-gray-400 group-hover:text-primary group-hover:bg-primary/10 transition-all\">\r\n                                        <ChevronRight size={20} />\r\n                                    </div>\r\n                                </div>\r\n                            </motion.div>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n            )}\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n                {/* Attendance Chart */}\r\n                <motion.div\r\n                    initial={{ opacity: 0, x: -20 }}\r\n                    whileInView={{ opacity: 1, x: 0 }}\r\n                    className=\"lg:col-span-2 glass rounded-[2.5rem] p-10 border border-white/5 shadow-2xl\"\r\n                >\r\n                    <div className=\"flex justify-between items-end mb-12\">\r\n                        <div>\r\n                            <span className=\"text-[10px] font-black text-primary uppercase tracking-[0.2em] mb-2 block\">Performance Analytics</span>\r\n                            <h3 className=\"text-3xl font-black text-white tracking-tight\">Academic Engagement</h3>\r\n                        </div>\r\n                        <div className=\"flex gap-4 p-1.5 bg-white/5 rounded-2xl border border-white/5\">\r\n                            <span className=\"flex items-center text-[10px] font-bold text-gray-400 px-3 py-1.5 rounded-xl bg-white/5\"><div className=\"w-2 h-2 rounded-full bg-indigo-500 mr-2 shadow-[0_0_10px_rgba(99,102,241,0.5)]\"></div> Weekly</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"h-72\">\r\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                            <BarChart data={attendanceData} margin={{ top: 0, right: 0, left: -20, bottom: 0 }}>\r\n                                <defs>\r\n                                    <linearGradient id=\"colorBar\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                        <stop offset=\"0%\" stopColor=\"#6366f1\" stopOpacity={1} />\r\n                                        <stop offset=\"100%\" stopColor=\"#818cf8\" stopOpacity={0.8} />\r\n                                    </linearGradient>\r\n                                </defs>\r\n                                <CartesianGrid strokeDasharray=\"8 8\" vertical={false} stroke=\"#ffffff08\" />\r\n                                <XAxis\r\n                                    dataKey=\"name\"\r\n                                    axisLine={false}\r\n                                    tickLine={false}\r\n                                    tick={{ fill: '#4b5563', fontSize: 11, fontWeight: 700 }}\r\n                                    dy={10}\r\n                                />\r\n                                <YAxis hide />\r\n                                <Tooltip\r\n                                    cursor={{ fill: '#ffffff03' }}\r\n                                    contentStyle={{\r\n                                        backgroundColor: 'rgba(15, 23, 42, 0.9)',\r\n                                        borderRadius: '24px',\r\n                                        border: '1px solid rgba(255,255,255,0.1)',\r\n                                        boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.5)',\r\n                                        backdropFilter: 'blur(12px)',\r\n                                        padding: '16px'\r\n                                    }}\r\n                                    itemStyle={{ color: '#fff', fontSize: '12px', fontWeight: 'bold' }}\r\n                                />\r\n                                <Bar\r\n                                    dataKey=\"present\"\r\n                                    fill=\"url(#colorBar)\"\r\n                                    radius={[12, 12, 4, 4]}\r\n                                    barSize={60}\r\n                                    animationDuration={2000}\r\n                                />\r\n                            </BarChart>\r\n                        </ResponsiveContainer>\r\n                    </div>\r\n                </motion.div>\r\n\r\n                {/* Upcoming Notices/Events */}\r\n                <motion.div\r\n                    initial={{ opacity: 0, x: 20 }}\r\n                    whileInView={{ opacity: 1, x: 0 }}\r\n                    className=\"glass rounded-[2.5rem] p-10 border border-white/5 shadow-2xl flex flex-col\"\r\n                >\r\n                    <div className=\"flex justify-between items-center mb-10\">\r\n                        <h3 className=\"text-2xl font-black text-white tracking-tight\">Intelligence Feed</h3>\r\n                        <button onClick={() => navigate('/student/notices')} className=\"text-secondary text-xs font-black uppercase tracking-widest hover:text-white transition-colors\">History</button>\r\n                    </div>\r\n                    <div className=\"space-y-4 flex-1 overflow-y-auto custom-scrollbar pr-2\">\r\n                        {(!dashboardData?.notices || dashboardData.notices.length === 0) ? (\r\n                            <div className=\"flex flex-col items-center justify-center h-full py-12 text-center bg-white/[0.02] rounded-[2rem] border border-white/5 border-dashed\">\r\n                                <div className=\"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4 text-gray-600\">\r\n                                    <Bell size={32} />\r\n                                </div>\r\n                                <p className=\"text-gray-500 text-sm font-bold uppercase tracking-widest\">No Active Updates</p>\r\n                            </div>\r\n                        ) : (\r\n                            dashboardData?.notices?.map((notice, i) => (\r\n                                <motion.div\r\n                                    key={i}\r\n                                    initial={{ opacity: 0, x: 10 }}\r\n                                    animate={{ opacity: 1, x: 0 }}\r\n                                    transition={{ delay: i * 0.1 }}\r\n                                    className=\"p-5 rounded-[1.5rem] bg-white/[0.03] border border-white/5 hover:border-primary/30 transition-all group cursor-pointer relative overflow-hidden\"\r\n                                >\r\n                                    <div className=\"flex gap-4 relative z-10\">\r\n                                        <div className=\"flex-shrink-0 w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500/20 to-purple-500/20 flex flex-col items-center justify-center text-primary font-black border border-white/5\">\r\n                                            <span className=\"text-sm leading-none\">{new Date(notice.date).getDate()}</span>\r\n                                            <span className=\"text-[10px] uppercase tracking-tighter mt-1\">{new Date(notice.date).toLocaleDateString('en-US', { month: 'short' })}</span>\r\n                                        </div>\r\n                                        <div className=\"flex-1\">\r\n                                            <h4 className=\"font-bold text-sm text-gray-200 group-hover:text-white transition-colors line-clamp-1\">{notice.title}</h4>\r\n                                            <p className=\"text-[11px] text-gray-500 line-clamp-2 mt-1 leading-relaxed\">{notice.message}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"mt-4 flex items-center justify-between border-t border-white/5 pt-3 relative z-10\">\r\n                                        <span className={`px-2.5 py-1 rounded-lg text-[9px] font-black tracking-[0.1em] uppercase border ${notice.type === 'Important'\r\n                                            ? 'bg-red-500/10 text-red-500 border-red-500/20 shadow-[0_0_15px_rgba(239,68,68,0.1)]'\r\n                                            : 'bg-primary/10 text-primary border-primary/20 shadow-[0_0_15px_rgba(99,102,241,0.1)]'\r\n                                            }`}>\r\n                                            {notice.type}\r\n                                        </span>\r\n                                        <Clock size={12} className=\"text-gray-600\" />\r\n                                    </div>\r\n                                    {/* Active Background */}\r\n                                    <div className=\"absolute inset-0 bg-primary/0 group-hover:bg-primary/[0.02] transition-colors\" />\r\n                                </motion.div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </motion.div>\r\n            </div>\r\n\r\n            {/* New Courses Section */}\r\n            {availableCourses.length > 0 && (\r\n                <section className=\"space-y-8 mt-12\">\r\n                    <div className=\"flex justify-between items-end\">\r\n                        <div>\r\n                            <span className=\"text-[10px] font-black text-secondary uppercase tracking-[0.2em] mb-2 block\">Upgrade Your Skills</span>\r\n                            <h3 className=\"text-3xl font-black text-white tracking-tight\">New Courses for You</h3>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => navigate('/courses')}\r\n                            className=\"text-gray-400 text-xs font-black uppercase tracking-widest hover:text-white transition-colors flex items-center gap-2 group\"\r\n                        >\r\n                            Explore All <ChevronRight size={14} className=\"group-hover:translate-x-1 transition-transform\" />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                        {availableCourses.map((course, i) => (\r\n                            <motion.div\r\n                                key={course._id}\r\n                                initial={{ opacity: 0, y: 20 }}\r\n                                whileInView={{ opacity: 1, y: 0 }}\r\n                                transition={{ delay: i * 0.1 }}\r\n                                className=\"glass rounded-[2rem] overflow-hidden border border-white/5 hover:border-primary/20 transition-all duration-500 group\"\r\n                            >\r\n                                <div className=\"relative aspect-video overflow-hidden\">\r\n                                    <img\r\n                                        src={course.thumbnail}\r\n                                        alt={course.title}\r\n                                        className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700\"\r\n                                    />\r\n                                    <div className=\"absolute top-4 right-4 px-3 py-1 bg-black/60 backdrop-blur-md rounded-full text-[9px] font-black text-white uppercase tracking-widest border border-white/10\">\r\n                                        {course.category}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"p-6 space-y-4\">\r\n                                    <div className=\"space-y-2\">\r\n                                        <h4 className=\"text-white font-bold text-sm line-clamp-1 group-hover:text-primary transition-colors\">{course.title}</h4>\r\n                                        <div className=\"flex items-center gap-2 text-[10px] text-gray-500 font-bold uppercase tracking-widest\">\r\n                                            <Star size={10} className=\"text-secondary\" />\r\n                                            <span>{course.faculty?.name || 'Top Faculty'}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex items-center justify-between pt-4 border-t border-white/5\">\r\n                                        <span className=\"text-xl font-black text-white\">{course.price}</span>\r\n                                        <button\r\n                                            onClick={() => navigate(`/purchase/${course._id}`)}\r\n                                            className=\"p-3 bg-primary/10 text-primary rounded-xl border border-primary/20 hover:bg-primary hover:text-white transition-all shadow-lg shadow-primary/10 active:scale-90\"\r\n                                        >\r\n                                            <ShoppingBag size={18} />\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </motion.div>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StudentDashboard;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\student\\StudentExams.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'_' is defined but never used.","line":22,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":23},{"ruleId":"no-undef","severity":2,"message":"'err' is not defined.","line":23,"column":65,"nodeType":"Identifier","messageId":"undef","endLine":23,"endColumn":68}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { Calendar, AlertCircle } from 'lucide-react';\r\nimport api from '../../utils/api';\r\n\r\nconst StudentExams = () => {\r\n    const [exams, setExams] = useState([]);\r\n    const [results, setResults] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const [examsRes, resultsRes] = await Promise.all([\r\n                    api.get('/student/exams'),\r\n                    api.get('/student/results')\r\n                ]);\r\n                setExams(examsRes.data);\r\n                setResults(resultsRes.data);\r\n                setError(null);\r\n            } catch (_) {\r\n                console.error('Failed to fetch exams/results:', err);\r\n                setError('Failed to load data. Please try again.');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center min-h-[60vh] gap-4\">\r\n                <div className=\"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin\" />\r\n                <p className=\"text-gray-500 font-medium animate-pulse uppercase tracking-widest text-xs\">Loading Evaluations...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center min-h-[60vh] gap-6\">\r\n                <div className=\"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center text-red-500 mb-4 animate-pulse\">\r\n                    <AlertCircle size={40} />\r\n                </div>\r\n                <h2 className=\"text-2xl font-black text-white\">Failed to Load</h2>\r\n                <p className=\"text-gray-500 max-w-md text-center\">{error}</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-10 pb-10\">\r\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\r\n                <div>\r\n                    <h1 className=\"text-4xl font-black text-white tracking-tight leading-tight\">Evaluations & Performance</h1>\r\n                    <p className=\"text-gray-500 font-bold uppercase tracking-widest text-[10px] mt-2\">Track upcoming examinations and historical academic results</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-10\">\r\n                {/* Upcoming Exams */}\r\n                <div className=\"glass rounded-[2.5rem] border border-white/5 overflow-hidden shadow-2xl flex flex-col\">\r\n                    <div className=\"p-8 border-b border-white/5 flex justify-between items-center bg-white/[0.02]\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-10 h-10 rounded-xl bg-primary/20 flex items-center justify-center text-primary border border-primary/20\">\r\n                                <Calendar size={20} />\r\n                            </div>\r\n                            <h3 className=\"font-black text-white uppercase tracking-widest text-xs\">Upcoming Schedule</h3>\r\n                        </div>\r\n                        <span className=\"text-[10px] font-black text-primary uppercase tracking-widest px-3 py-1 bg-primary/10 rounded-full border border-primary/20\">\r\n                            {new Date().getFullYear()}\r\n                        </span>\r\n                    </div>\r\n\r\n                    <div className=\"p-8 overflow-x-auto custom-scrollbar\">\r\n                        {exams.length === 0 ? (\r\n                            <div className=\"text-center py-12 text-gray-500\">\r\n                                <Calendar size={48} className=\"mx-auto mb-4 opacity-30\" />\r\n                                <p className=\"font-bold uppercase tracking-widest text-xs\">No Upcoming Exams</p>\r\n                            </div>\r\n                        ) : (\r\n                            <table className=\"w-full text-left\">\r\n                                <thead className=\"text-gray-500 text-[10px] uppercase font-black tracking-[0.2em]\">\r\n                                    <tr>\r\n                                        <th className=\"pb-6\">Subject Module</th>\r\n                                        <th className=\"pb-6\">Date/Time</th>\r\n                                        <th className=\"pb-6 text-center\">Status</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody className=\"divide-y divide-white/5\">\r\n                                    {exams.map((exam, i) => (\r\n                                        <tr key={i} className=\"group cursor-default\">\r\n                                            <td className=\"py-6\">\r\n                                                <p className=\"font-bold text-white tracking-tight group-hover:text-primary transition-colors\">{exam.subject}</p>\r\n                                                <p className=\"text-[10px] text-gray-500 font-bold uppercase tracking-widest mt-1\">{exam.location}</p>\r\n                                            </td>\r\n                                            <td className=\"py-6\">\r\n                                                <p className=\"text-sm text-gray-300 font-bold tracking-tighter\">\r\n                                                    {new Date(exam.date).toLocaleDateString('en-US', { day: '2-digit', month: 'short' })}\r\n                                                </p>\r\n                                                <p className=\"text-[10px] text-gray-500 font-medium\">{exam.time}</p>\r\n                                            </td>\r\n                                            <td className=\"py-6 text-center\">\r\n                                                <span className={`text-[9px] font-black uppercase tracking-widest px-3 py-1.5 rounded-xl border ${exam.type === 'External'\r\n                                                    ? 'bg-red-500/10 text-red-400 border-red-500/20 shadow-[0_0_15px_rgba(239,68,68,0.1)]'\r\n                                                    : 'bg-primary/10 text-primary border-primary/20 shadow-[0_0_15px_rgba(99,102,241,0.1)]'\r\n                                                    }`}>\r\n                                                    {exam.type}\r\n                                                </span>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Results Preview */}\r\n                <div className=\"glass rounded-[2.5rem] border border-white/5 overflow-hidden shadow-2xl flex flex-col\">\r\n                    <div className=\"p-8 border-b border-white/5 flex justify-between items-center bg-white/[0.02]\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-10 h-10 rounded-xl bg-secondary/20 flex items-center justify-center text-secondary border border-secondary/20\">\r\n                                <AlertCircle size={20} />\r\n                            </div>\r\n                            <h3 className=\"font-black text-white uppercase tracking-widest text-xs\">Latest Results</h3>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"p-8 space-y-4\">\r\n                        {results.length === 0 ? (\r\n                            <div className=\"text-center py-12 text-gray-500\">\r\n                                <AlertCircle size={48} className=\"mx-auto mb-4 opacity-30\" />\r\n                                <p className=\"font-bold uppercase tracking-widest text-xs\">No Results Published</p>\r\n                            </div>\r\n                        ) : (\r\n                            <>\r\n                                {results.slice(0, 5).map((result, j) => (\r\n                                    <div key={j} className=\"flex justify-between items-center p-5 bg-white/[0.02] border border-white/5 rounded-[1.5rem] group hover:border-primary/30 transition-all hover:bg-white/[0.04]\">\r\n                                        <div className=\"flex items-center gap-4\">\r\n                                            <div className={`w-10 h-10 rounded-xl flex items-center justify-center font-black text-sm border ${result.grade?.startsWith('A')\r\n                                                ? 'bg-emerald-500/10 text-emerald-400 border-emerald-500/20 shadow-[0_0_15px_rgba(16,185,129,0.1)]'\r\n                                                : 'bg-primary/10 text-primary border-primary/20 shadow-[0_0_15px_rgba(99,102,241,0.1)]'\r\n                                                }`}>\r\n                                                {result.grade || 'N/A'}\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"text-sm font-bold text-gray-200 group-hover:text-white transition-colors\">{result.subject}</p>\r\n                                                <p className=\"text-[10px] text-gray-500 font-bold uppercase tracking-widest mt-0.5\">\r\n                                                    Score: {result.marks}/{result.totalMarks}\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"w-32 h-1.5 bg-white/5 rounded-full overflow-hidden\">\r\n                                            <div\r\n                                                className={`h-full rounded-full transition-all duration-1000 ${(result.marks / result.totalMarks) * 100 >= 90\r\n                                                    ? 'bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]'\r\n                                                    : 'bg-primary'\r\n                                                    }`}\r\n                                                style={{ width: `${(result.marks / result.totalMarks) * 100}%` }}\r\n                                            ></div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                                <button className=\"w-full mt-4 py-4 bg-white/5 border border-white/5 rounded-[1.2rem] text-[10px] font-black uppercase tracking-[0.2em] text-gray-400 hover:text-white hover:bg-white/10 transition-all\">\r\n                                    View Full Marksheet Details\r\n                                </button>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StudentExams;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\student\\StudentFees.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'_' is defined but never used.","line":20,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":19},{"ruleId":"no-undef","severity":2,"message":"'error' is not defined.","line":21,"column":27,"nodeType":"Identifier","messageId":"undef","endLine":21,"endColumn":32},{"ruleId":"no-unused-vars","severity":2,"message":"'_' is defined but never used.","line":32,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":32,"endColumn":19},{"ruleId":"no-undef","severity":2,"message":"'error' is not defined.","line":33,"column":27,"nodeType":"Identifier","messageId":"undef","endLine":33,"endColumn":32},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchFees'. Either include it or remove the dependency array.","line":46,"column":8,"nodeType":"ArrayExpression","endLine":46,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchFees, user]","fix":{"range":[1558,1564],"text":"[fetchFees, user]"}}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../../utils/api';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { Download, CheckCircle, Clock, AlertCircle, CreditCard, Loader2 } from 'lucide-react';\r\nimport { toast } from 'react-toastify';\r\nimport { generateInvoicePDF } from '../../utils/invoiceGenerator';\r\n\r\nconst StudentFees = () => {\r\n    const { user } = useAuth();\r\n    const navigate = useNavigate();\r\n    const [fees, setFees] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [downloading, setDownloading] = useState(false);\r\n    const fetchFees = async () => {\r\n        try {\r\n            const { data } = await api.get(`/fees/student/${user._id}`);\r\n            setFees(data);\r\n            setLoading(false);\r\n        } catch (_) {\r\n            console.error(error);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDownloadInvoice = async (fee) => {\r\n        try {\r\n            setDownloading(true);\r\n            toast.info('Generating your invoice...');\r\n            await generateInvoicePDF(fee, user);\r\n            toast.success('Invoice downloaded!');\r\n        } catch (_) {\r\n            console.error(error);\r\n            toast.error('Failed to generate invoice');\r\n        } finally {\r\n            setDownloading(false);\r\n        }\r\n    };\r\n\r\n    const handlePayment = (feeId) => {\r\n        navigate(`/student/pay-fee/${feeId}`);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (user?._id) fetchFees();\r\n    }, [user]);\r\n\r\n    if (loading && fees.length === 0) return (\r\n        <div className=\"flex flex-col items-center justify-center p-20\">\r\n            <Loader2 className=\"w-10 h-10 text-indigo-500 animate-spin mb-4\" />\r\n            <p className=\"text-slate-500 font-bold uppercase tracking-widest text-xs\">Syncing Financial Records...</p>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div>\r\n                <h1 className=\"text-2xl font-bold text-white\">My Fees</h1>\r\n                <p className=\"text-slate-400 text-sm\">Track your tuition and other payments</p>\r\n            </div>\r\n\r\n            {/* Overview Cards */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                <div className=\"bg-slate-800/50 p-5 rounded-2xl border border-white/5 overflow-hidden\">\r\n                    <p className=\"text-slate-400 text-xs uppercase font-bold tracking-wider mb-1 truncate\">Total Paid</p>\r\n                    <h3 className=\"text-2xl font-bold text-emerald-400 truncate\" title={`${fees.filter(f => f.status === 'Paid').reduce((acc, curr) => acc + curr.amount, 0).toLocaleString()}`}>\r\n                        {fees.filter(f => f.status === 'Paid').reduce((acc, curr) => acc + curr.amount, 0).toLocaleString()}\r\n                    </h3>\r\n                </div>\r\n                <div className=\"bg-slate-800/50 p-5 rounded-2xl border border-white/5 overflow-hidden\">\r\n                    <p className=\"text-slate-400 text-xs uppercase font-bold tracking-wider mb-1 truncate\">Pending</p>\r\n                    <h3 className=\"text-2xl font-bold text-amber-400 truncate\" title={`${fees.filter(f => f.status === 'Pending').reduce((acc, curr) => acc + curr.amount, 0).toLocaleString()}`}>\r\n                        {fees.filter(f => f.status === 'Pending').reduce((acc, curr) => acc + curr.amount, 0).toLocaleString()}\r\n                    </h3>\r\n                </div>\r\n                <div className=\"bg-slate-800/50 p-5 rounded-2xl border border-white/5 overflow-hidden\">\r\n                    <p className=\"text-slate-400 text-xs uppercase font-bold tracking-wider mb-1 truncate\">Overdue</p>\r\n                    <h3 className=\"text-2xl font-bold text-red-400 truncate\" title={`${fees.filter(f => f.status === 'Overdue').reduce((acc, curr) => acc + curr.amount, 0).toLocaleString()}`}>\r\n                        {fees.filter(f => f.status === 'Overdue').reduce((acc, curr) => acc + curr.amount, 0).toLocaleString()}\r\n                    </h3>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Fee List */}\r\n            <div className=\"bg-slate-800/50 rounded-2xl border border-white/5 overflow-hidden\">\r\n                <div className=\"p-4 border-b border-white/5\">\r\n                    <h3 className=\"font-bold text-white\">Fee History</h3>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left\">\r\n                        <thead>\r\n                            <tr className=\"text-slate-400 text-sm border-b border-white/5\">\r\n                                <th className=\"p-4\">Description</th>\r\n                                <th className=\"p-4\">Semester</th>\r\n                                <th className=\"p-4\">Due Date</th>\r\n                                <th className=\"p-4\">Amount</th>\r\n                                <th className=\"p-4\">Status</th>\r\n                                <th className=\"p-4 text-right\">Invoice</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"text-slate-300 text-sm\">\r\n                            {loading ? (\r\n                                <tr><td colSpan=\"6\" className=\"p-8 text-center\">Loading...</td></tr>\r\n                            ) : fees.length === 0 ? (\r\n                                <tr><td colSpan=\"6\" className=\"p-8 text-center text-slate-500\">No fee records found</td></tr>\r\n                            ) : fees.map((fee) => (\r\n                                <tr key={fee._id} className=\"border-b border-white/5 hover:bg-white/[0.02]\">\r\n                                    <td className=\"p-4 font-medium text-white\">{fee.type} Fee</td>\r\n                                    <td className=\"p-4\">{fee.semester}</td>\r\n                                    <td className=\"p-4\">{new Date(fee.dueDate).toLocaleDateString()}</td>\r\n                                    <td className=\"p-4\">\r\n                                        <p className=\"font-black text-white text-lg\">{fee.amount.toLocaleString()}</p>\r\n                                    </td>\r\n                                    <td className=\"p-4\">\r\n                                        <div className={`flex items-center gap-2 px-3 py-1 rounded-full w-fit text-xs font-bold border ${fee.status === 'Paid' ? 'bg-emerald-500/10 text-emerald-400 border-emerald-500/20' :\r\n                                            fee.status === 'Pending' ? 'bg-amber-500/10 text-amber-400 border-amber-500/20' :\r\n                                                'bg-red-500/10 text-red-400 border-red-500/20'\r\n                                            }`}>\r\n                                            {fee.status === 'Paid' ? <CheckCircle size={12} /> :\r\n                                                fee.status === 'Pending' ? <Clock size={12} /> : <AlertCircle size={12} />}\r\n                                            {fee.status}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"p-4 text-right\">\r\n                                        <div className=\"flex justify-end gap-2\">\r\n                                            {fee.status === 'Paid' ? (\r\n                                                <button\r\n                                                    onClick={() => handleDownloadInvoice(fee)}\r\n                                                    disabled={downloading}\r\n                                                    className=\"p-2 hover:bg-white/10 rounded-lg transition-colors text-slate-400 hover:text-white disabled:opacity-50\"\r\n                                                    title=\"Download Invoice\"\r\n                                                >\r\n                                                    {downloading ? <Loader2 size={16} className=\"animate-spin\" /> : <Download size={16} />}\r\n                                                </button>\r\n                                            ) : (\r\n                                                <button\r\n                                                    onClick={() => handlePayment(fee._id)}\r\n                                                    className=\"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg shadow-indigo-600/20\"\r\n                                                >\r\n                                                    <CreditCard size={12} /> Pay Now\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StudentFees;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\student\\StudentNotices.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\student\\StudentProfile.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\pages\\student\\StudentTimetable.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'_' is defined but never used.","line":23,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":19},{"ruleId":"no-undef","severity":2,"message":"'error' is not defined.","line":24,"column":27,"nodeType":"Identifier","messageId":"undef","endLine":24,"endColumn":32},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  27 |\n  28 |     useEffect(() => {\n> 29 |         fetchTimetable();\n     |         ^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  30 |     }, [fetchTimetable]);\n  31 |\n  32 |     useEffect(() => {","line":29,"column":9,"nodeType":null,"endLine":29,"endColumn":23}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState, useCallback } from 'react';\r\nimport api from '../../utils/api';\r\nimport { useSocket } from '../../hooks/useSocket';\r\nimport { Clock, Video } from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst StudentTimetable = () => {\r\n    const [timetable, setTimetable] = useState([]);\r\n    const [studentInfo, setStudentInfo] = useState({ branch: '', semester: '' });\r\n    const socket = useSocket();\r\n\r\n    const fetchTimetable = useCallback(async () => {\r\n        try {\r\n            const { data } = await api.get('/student/timetable');\r\n            setTimetable(data);\r\n\r\n            // Get current user info from localStorage to see what we're matching\r\n            const user = JSON.parse(localStorage.getItem('userInfo'));\r\n            setStudentInfo({\r\n                branch: user?.studentProfile?.branch || 'Not Set',\r\n                semester: user?.studentProfile?.semester || 'Not Set'\r\n            });\r\n        } catch (_) {\r\n            console.error(error);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchTimetable();\r\n    }, [fetchTimetable]);\r\n\r\n    useEffect(() => {\r\n        if (socket) {\r\n            socket.on('timetable:published', () => {\r\n                fetchTimetable();\r\n            });\r\n        }\r\n        return () => {\r\n            if (socket) {\r\n                socket.off('timetable:published');\r\n            }\r\n        };\r\n    }, [socket, fetchTimetable]);\r\n\r\n    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\r\n    return (\r\n        <div className=\"space-y-10 pb-10\">\r\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\r\n                <div>\r\n                    <h1 className=\"text-4xl font-black text-white tracking-tight leading-tight\">Weekly Roadmap</h1>\r\n                    <div className=\"flex items-center gap-4 mt-3\">\r\n                        <span className=\"text-[10px] px-3 py-1 bg-white/5 text-gray-400 border border-white/10 rounded-full font-black uppercase tracking-widest\">Branch: <span className=\"text-primary\">{studentInfo.branch}</span></span>\r\n                        <span className=\"text-[10px] px-3 py-1 bg-white/5 text-gray-400 border border-white/10 rounded-full font-black uppercase tracking-widest\">Semester: <span className=\"text-primary\">{studentInfo.semester}</span></span>\r\n                    </div>\r\n                </div>\r\n                {(studentInfo.branch === 'Not Set' || studentInfo.semester === 'Not Set') && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, scale: 0.9 }}\r\n                        animate={{ opacity: 1, scale: 1 }}\r\n                        className=\"p-4 bg-orange-500/10 border border-orange-500/20 rounded-2xl flex items-center gap-4 max-w-md\"\r\n                    >\r\n                        <div className=\"w-10 h-10 rounded-full bg-orange-500/20 text-orange-500 flex items-center justify-center shrink-0\">\r\n                            <Clock size={20} />\r\n                        </div>\r\n                        <p className=\"text-[10px] text-orange-200/70 font-bold leading-relaxed\">\r\n                            Your profile is incomplete. Please update your <strong className=\"text-orange-400\">Branch</strong> and <strong className=\"text-orange-400\">Semester</strong> in settings to see your assigned timetable.\r\n                        </p>\r\n                    </motion.div>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                {days.map((day, dayIdx) => {\r\n                    const daySchedule = timetable.find(d => d.day === day) || { slots: [] };\r\n\r\n                    return (\r\n                        <motion.div\r\n                            key={day}\r\n                            initial={{ opacity: 0, y: 20 }}\r\n                            whileInView={{ opacity: 1, y: 0 }}\r\n                            transition={{ delay: dayIdx * 0.1 }}\r\n                            className=\"glass rounded-[2.5rem] border border-white/5 overflow-hidden shadow-2xl flex flex-col hover:border-primary/20 transition-all group group/day\"\r\n                        >\r\n                            <div className=\"bg-white/[0.02] px-8 py-6 border-b border-white/5 flex justify-between items-center group-hover/day:bg-white/[0.04] transition-colors\">\r\n                                <h3 className=\"font-black text-white text-lg tracking-tight group-hover/day:text-primary transition-colors\">{day}</h3>\r\n                                <span className=\"text-[9px] px-3 py-1 bg-primary/10 text-primary border border-primary/20 rounded-full font-black uppercase tracking-widest\">{daySchedule.slots.length} Activities</span>\r\n                            </div>\r\n                            <div className=\"divide-y divide-white/5 flex-1 max-h-[400px] overflow-y-auto custom-scrollbar\">\r\n                                {daySchedule.slots.length === 0 ? (\r\n                                    <div className=\"p-12 text-center flex flex-col items-center justify-center h-full opacity-40\">\r\n                                        <div className=\"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4 border border-white/10\">\r\n                                            <Clock size={24} className=\"text-gray-600\" />\r\n                                        </div>\r\n                                        <p className=\"text-gray-400 text-[10px] font-black uppercase tracking-[0.2em] mb-2 leading-relaxed text-center px-4\">Nothing Scheduled</p>\r\n                                        <p className=\"text-gray-600 text-[8px] font-bold uppercase tracking-widest text-center px-6\">Ensure your Profile Branch/Sem match precisely with Faculty inputs</p>\r\n                                    </div>\r\n                                ) : (\r\n                                    daySchedule.slots.map((slot, i) => (\r\n                                        <div key={i} className=\"p-8 hover:bg-white/[0.03] transition-all group/slot cursor-default relative overflow-hidden\">\r\n                                            <div className=\"flex items-center gap-5 mb-4 relative z-10\">\r\n                                                <div className=\"w-12 h-12 rounded-2xl bg-primary/10 text-primary flex items-center justify-center border border-primary/20 shadow-lg group-hover/slot:shadow-primary/20 group-hover/slot:scale-110 transition-all duration-500\">\r\n                                                    <Clock size={20} className=\"group-hover/slot:rotate-12 transition-transform\" />\r\n                                                </div>\r\n                                                <div>\r\n                                                    <span className=\"font-black text-white text-xl tracking-tighter block leading-none\">{slot.time}</span>\r\n                                                    <span className=\"text-[10px] text-gray-500 font-bold uppercase tracking-widest mt-1\">Class Period</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"ml-[68px] relative z-10\">\r\n                                                <h4 className=\"font-black text-gray-200 group-hover/slot:text-white transition-colors tracking-tight text-base leading-tight\">{slot.subject}</h4>\r\n                                                <div className=\"flex flex-wrap items-center gap-3 mt-4\">\r\n                                                    <span className=\"text-[9px] font-black px-2.5 py-1 bg-white/5 text-gray-400 rounded-lg border border-white/5 uppercase tracking-widest\">Rm: {slot.room}</span>\r\n                                                    <div className=\"w-1 h-1 rounded-full bg-gray-700\" />\r\n                                                    <span className=\"text-[9px] text-gray-500 font-black uppercase tracking-widest leading-none\">{slot.teacher}</span>\r\n                                                </div>\r\n                                                {slot.meetingLink && (\r\n                                                    <button\r\n                                                        onClick={() => window.open(slot.meetingLink, '_blank')}\r\n                                                        className=\"mt-4 flex items-center gap-2 px-4 py-2 bg-indigo-500/10 border border-indigo-500/20 rounded-xl text-[10px] font-black uppercase tracking-widest text-indigo-400 hover:bg-indigo-500 hover:text-white transition-all shadow-lg shadow-indigo-500/10\"\r\n                                                    >\r\n                                                        <Video size={14} /> Join Live Class\r\n                                                    </button>\r\n                                                )}\r\n                                            </div>\r\n                                            {/* Hover Accent */}\r\n                                            <div className=\"absolute left-0 top-0 bottom-0 w-0.5 bg-primary opacity-0 group-hover/slot:opacity-100 transition-opacity\" />\r\n                                        </div>\r\n                                    ))\r\n                                )}\r\n                            </div>\r\n                        </motion.div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StudentTimetable;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\utils\\api.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\utils\\certificateGenerator.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\utils\\invoiceGenerator.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\src\\utils\\payslipGenerator.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\tailwind.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\WIN 11\\Desktop\\maan-verse\\client\\vite.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]